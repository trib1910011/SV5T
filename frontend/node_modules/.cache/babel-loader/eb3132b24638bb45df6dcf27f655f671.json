{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-24037049\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"animate__animated animate__fadeIn\"\n};\nconst _hoisted_2 = {\n  class: \"mt-5 table-wrapper-scroll-y my-custom-scrollbar\"\n};\nconst _hoisted_3 = {\n  class: \"table table-striped\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \"Mã loại\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \" Tên loại tiêu chí \"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-center\",\n  scope: \"col\"\n}, \" Tùy chọn \")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"text-center\",\n  scope: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"text-center\"\n};\nconst _hoisted_7 = {\n  class: \"text-center\"\n};\nconst _hoisted_8 = {\n  class: \"text-center\"\n};\nconst _hoisted_9 = {\n  type: \"button\",\n  class: \"btn\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#editInforCategory\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  type: \"button\",\n  class: \"btn\"\n};\nconst _hoisted_12 = [\"onClick\"];\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex justify-content-center mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-success mb-3\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#createCategory\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-plus-circle-fill\"\n}), /*#__PURE__*/_createTextVNode(\"   Thêm loại tiêu chí \")])], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TitleStructure = _resolveComponent(\"TitleStructure\");\n\n  const _component_CreateCategory = _resolveComponent(\"CreateCategory\");\n\n  const _component_EditSpell = _resolveComponent(\"EditSpell\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_TitleStructure, {\n    title: `Quản lý loại tiêu chí`\n  }), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.category, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"th\", _hoisted_5, _toDisplayString(item.stt), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.categoryCode), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(item.categoryName), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_8, [_createElementVNode(\"button\", _hoisted_9, [_createElementVNode(\"i\", {\n      class: \"bi bi-pencil-square text-warning fs-5\",\n      onClick: $event => $options.handleSetUpdate(item)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_10)]), _createElementVNode(\"button\", _hoisted_11, [_createElementVNode(\"i\", {\n      class: \"bi bi-archive-fill text-danger fs-5\",\n      onClick: $event => $options.handleDeleteCategory(item.id)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_12)])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]), _hoisted_13]), _createVNode(_component_CreateCategory), _createVNode(_component_EditSpell)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","scope","type","_createVNode","_component_TitleStructure","title","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","item","index","key","_toDisplayString","stt","categoryCode","categoryName","onClick","$options","id","_hoisted_13","_component_CreateCategory","_component_EditSpell"],"sourceRoot":"","sources":["D:\\SV5T\\frontend\\src\\views\\ministry\\CategoryManage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"animate__animated animate__fadeIn\">\r\n            <TitleStructure :title=\"`Quản lý loại tiêu chí`\"></TitleStructure>\r\n            <div class=\"mt-5 table-wrapper-scroll-y my-custom-scrollbar\">\r\n                <table class=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class=\"text-center\" scope=\"col\">#</th>\r\n                            <th class=\"text-center\" scope=\"col\">Mã loại</th>\r\n                            <th class=\"text-center\" scope=\"col\">\r\n                                Tên loại tiêu chí\r\n                            </th>\r\n                            <th class=\"text-center\" scope=\"col\">\r\n                                Tùy chọn\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(item, index) in category\" :key=\"index\">\r\n                            <th class=\"text-center\" scope=\"row\">\r\n                                {{ item.stt }}\r\n                            </th>\r\n                            <td class=\"text-center\">{{ item.categoryCode }}</td>\r\n                            <td class=\"text-center\">{{ item.categoryName }}</td>\r\n                            <td class=\"text-center\">\r\n                                <button type=\"button\" class=\"btn\" data-bs-toggle=\"modal\" data-bs-target=\"#editInforCategory\">\r\n                                    <i class=\"bi bi-pencil-square text-warning fs-5\" \r\n                                    @click=\"handleSetUpdate(item)\"></i>\r\n                                </button>\r\n                                <button type=\"button\" class=\"btn\">\r\n                                    <i class=\"bi bi-archive-fill text-danger fs-5\"\r\n                                        @click=\"handleDeleteCategory(item.id)\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center mt-3\">\r\n            <button type=\"button\" class=\"btn btn-success mb-3\" data-bs-toggle=\"modal\" data-bs-target=\"#createCategory\">\r\n                <i class=\"bi bi-plus-circle-fill\"></i> &nbsp; Thêm loại tiêu chí\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <CreateCategory></CreateCategory>\r\n    <EditSpell></EditSpell>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nimport TitleStructure from \"../../components/GlobalComponent/TitleStructure.vue\";\r\nimport CreateCategory from \"../../components/Ministry/ManageForm/CreateCategory.vue\"\r\n\r\nexport default {\r\n    name: \"CategoryManage\",\r\n    components: { TitleStructure, CreateCategory, E },\r\n    data() {\r\n        return {\r\n            category: [],\r\n        };\r\n    },\r\n    created() {\r\n        this.showCategory()\r\n    },\r\n    methods: {\r\n        async showCategory() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const data = await axios.get(\"http://localhost:3000/ministry/get-all-category\",\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            )\r\n\r\n\r\n            const arr_data = data.data.findCategory;\r\n\r\n            const arr_result = arr_data.map((item, index) => {\r\n\r\n                return {\r\n                    id: item._id,\r\n                    stt: index + 1,\r\n                    categoryCode: item.categoryCode,\r\n                    categoryName: item.categoryName,\r\n                }\r\n\r\n\r\n            })\r\n            this.category = arr_result;\r\n\r\n        },\r\n        async handleDeleteCategory(categoryId) {\r\n            const token = localStorage.getItem(\"token\");\r\n            const res = await axios.delete(\r\n                `${config.domain}/ministry/delete-category`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n\r\n                    data: {\r\n                        categoryId,\r\n                    },\r\n                }\r\n\r\n\r\n            );\r\n\r\n            this.$store.commit(\"SET_TOAST\", {\r\n                message: res.data.message,\r\n                isSuccess: res.data.status,\r\n            });\r\n\r\n            if (res.data.status) {\r\n                this.$store.commit(\"DELETE_CATEGORY_CURRENT\", categoryId);\r\n                this.showCategory()\r\n            }\r\n        },\r\n        handleSetUpdate(category) {\r\n            this.$store.commit(\"SET_SPELL_UPDATE\", category);\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.type__item {\r\n    padding: 5px 10px;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    border-bottom: 2px solid rgba(64, 68, 162, 0.25);\r\n}\r\n\r\n.type__item.active {\r\n    transition: border-bottom 0.5s linear;\r\n    border-bottom-color: #2f2fe6;\r\n}\r\n\r\n.my-custom-scrollbar {\r\n    position: relative;\r\n    height: 400px;\r\n    overflow: auto;\r\n}\r\n\r\n.table-wrapper-scroll-y {\r\n    display: block;\r\n}\r\n</style>\r\n                        \r\n"]},"metadata":{},"sourceType":"module"}