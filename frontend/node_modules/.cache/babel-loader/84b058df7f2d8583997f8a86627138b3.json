{"ast":null,"code":"import axios from \"axios\";\nimport config from \"@/config/index.js\";\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\nexport default {\n  name: \"StudentInfor\",\n  components: {\n    AvatarComponent\n  },\n\n  data() {\n    return {};\n  },\n\n  computed: { ...mapGetters({\n      account: \"getAccount\"\n    })\n  },\n\n  async created() {\n    await this.$store.dispatch(\"setAccount\");\n  },\n\n  mounted() {\n    const nav = document.querySelector(\"nav\");\n    nav.scrollIntoView();\n  },\n\n  methods: {\n    async updateInfo(e) {\n      try {\n        e.preventDefault();\n        const token = localStorage.getItem(\"token\");\n        const res = await axios.post(`${config.domain}/student/update`, {\n          accountId: this.account.id\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + token\n          }\n        });\n        console.log(res);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,eAAP,MAA4B,sDAA5B;AAEA,eAAe;EACXC,IAAI,EAAE,cADK;EAEXC,UAAU,EAAE;IAAEF;EAAF,CAFD;;EAGXG,IAAI,GAAG;IACH,OAAO,EAAP;EACH,CALU;;EAMXC,QAAQ,EAAE,EACN,GAAGL,UAAU,CAAC;MAAEM,OAAO,EAAE;IAAX,CAAD;EADP,CANC;;EASX,MAAMC,OAAN,GAAgB;IACZ,MAAM,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,YAArB,CAAN;EACH,CAXU;;EAYXC,OAAO,GAAG;IACN,MAAMC,GAAE,GAAIC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;IACAF,GAAG,CAACG,cAAJ;EACH,CAfU;;EAgBXC,OAAO,EAAE;IACL,MAAMC,UAAN,CAAiBC,CAAjB,EAAoB;MAChB,IAAI;QACAA,CAAC,CAACC,cAAF;QACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;QACA,MAAMC,GAAE,GAAI,MAAMxB,KAAK,CAACyB,IAAN,CACb,GAAExB,MAAM,CAACyB,MAAO,iBADH,EAEd;UAAEC,SAAS,EAAE,KAAKnB,OAAL,CAAaoB;QAA1B,CAFc,EAGd;UACIC,OAAO,EAAE;YACL,gBAAgB,kBADX;YAELC,aAAa,EAAE,YAAYT;UAFtB;QADb,CAHc,CAAlB;QAWAU,OAAO,CAACC,GAAR,CAAYR,GAAZ;MACJ,CAfA,CAeE,OAAOS,KAAP,EAAc;QACZF,OAAO,CAACC,GAAR,CAAYC,KAAZ;MACJ;IACH;;EApBI;AAhBE,CAAf","names":["axios","config","mapGetters","AvatarComponent","name","components","data","computed","account","created","$store","dispatch","mounted","nav","document","querySelector","scrollIntoView","methods","updateInfo","e","preventDefault","token","localStorage","getItem","res","post","domain","accountId","id","headers","Authorization","console","log","error"],"sourceRoot":"","sources":["D:\\KTPM\\Final_NienLuan\\internship-management\\frontend\\src\\views\\student\\StudentUpdateInfor.vue"],"sourcesContent":["<template>\r\n    <div class=\"student-update my-5 animate__animated animate__fadeIn\">\r\n        <h2 class=\"update__title text-center fw-bold\" style=\"color: #555555\">\r\n            Cập nhật thông tin cá nhân\r\n        </h2>\r\n\r\n        <div class=\"form-update row col-6 mt-5 p-4 rounded-3 m-auto\">\r\n            <div class=\"col-4 text-center\">\r\n                <AvatarComponent\r\n                    class=\"mt-5 mb-3\"\r\n                    :avatar=\"{\r\n                        path: account.urlAvatar,\r\n                        height: 200,\r\n                        width: 200,\r\n                    }\"\r\n                />\r\n                <h5 class=\"fw-bold\">{{ account.name }}</h5>\r\n                <h5 class=\"fw-bold\">{{ account.username }}</h5>\r\n            </div>\r\n            <form\r\n                class=\"form-update-infor ms-5 col-6\"\r\n                enctype=\"multipart/form-data\"\r\n                method=\"post\"\r\n                @submit=\"updateInfo\"\r\n            >\r\n                <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\"\r\n                        ><strong>Email</strong></label\r\n                    >\r\n                    <input\r\n                        type=\"email\"\r\n                        class=\"form-control\"\r\n                        id=\"email\"\r\n                        aria-describedby=\"emailHelp\"\r\n                        name=\"email\"\r\n                        v-model=\"account.email\"\r\n                    />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"phone\" class=\"form-label\"\r\n                        ><strong>Số điện thoại</strong></label\r\n                    >\r\n                    <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        id=\"phone\"\r\n                        aria-describedby=\"name\"\r\n                        name=\"phoneNumber\"\r\n                        v-model=\"account.phoneNumber\"\r\n                    />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"phone\" class=\"form-label\"\r\n                        ><strong>Mật khẩu mới</strong></label\r\n                    >\r\n                    <input\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        id=\"password\"\r\n                        aria-describedby=\"name\"\r\n                        name=\"password\"\r\n                    />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"phone\" class=\"form-label\"\r\n                        ><strong>Nhập lại mật khẩu</strong></label\r\n                    >\r\n                    <input\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        id=\"password2\"\r\n                        aria-describedby=\"name\"\r\n                        name=\"password2\"\r\n                    />\r\n                </div>\r\n\r\n                <div class=\"mb-3\">\r\n                    <label for=\"avatar\" class=\"form-label\"\r\n                        ><strong>Cập nhật ảnh đại diện</strong></label\r\n                    >\r\n                    <input\r\n                        type=\"file\"\r\n                        name=\"avatar\"\r\n                        accept=\"image/png, image/jpeg\"\r\n                    />\r\n                </div>\r\n                <div class=\"form__footer d-flex justify-content-around mt-5\">\r\n                    <input class=\"btn btn-danger\" @click=\"btnPreventDefault\" />\r\n                    <i class=\"bi bi-arrow-clockwise\"></i>&nbsp;Đặt lại\r\n                    <input\r\n                        type=\"submit\"\r\n                        class=\"btn btn-primary btn-save\"\r\n                        value=\"Xác nhận\"\r\n                    />\r\n                    <i class=\"bi bi-calendar4\"></i>&nbsp;\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nimport { mapGetters } from \"vuex\";\r\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\r\n\r\nexport default {\r\n    name: \"StudentInfor\",\r\n    components: { AvatarComponent },\r\n    data() {\r\n        return {};\r\n    },\r\n    computed: {\r\n        ...mapGetters({ account: \"getAccount\" }),\r\n    },\r\n    async created() {\r\n        await this.$store.dispatch(\"setAccount\");\r\n    },\r\n    mounted() {\r\n        const nav = document.querySelector(\"nav\");\r\n        nav.scrollIntoView();\r\n    },\r\n    methods: {\r\n        async updateInfo(e) {\r\n            try {\r\n                e.preventDefault();\r\n                const token = localStorage.getItem(\"token\");\r\n                const res = await axios.post(\r\n                    `${config.domain}/student/update`,\r\n                    { accountId: this.account.id },\r\n                    {\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\",\r\n                            Authorization: \"Bearer \" + token,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                console.log(res);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn-save {\r\n    min-width: 70px;\r\n}\r\n\r\n.form-update {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}