{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport config from \"@/config/index.js\";\nconst token = localStorage.getItem(\"token\");\nconst taskModule = {\n  state() {\n    return {\n      taskList: [],\n      taskCurrent: {}\n    };\n  },\n\n  getters: {\n    getTaskList(state) {\n      return state.taskList;\n    },\n\n    getTaskCurrent(state) {\n      return state.taskCurrent;\n    }\n\n  },\n  mutations: {\n    SET_TASK_LIST(state, taskList) {\n      state.taskList = taskList;\n    },\n\n    SET_TASK_CURRENT(state, taskCurrent) {\n      state.taskCurrent = taskCurrent;\n    },\n\n    ADD_TASK(state, task) {\n      state.taskList.push(task);\n    },\n\n    DELETE_TASK(state, taskId) {\n      for (let i = 0; i < state.taskList.length; i++) {\n        if (state.taskList[i]._id == taskId) {\n          state.taskList.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n  },\n  actions: {\n    async setTaskList({\n      commit\n    }, studentId) {\n      try {\n        const res = await axios.get(`${config.domain}/company/get-all-tasks`, {\n          params: {\n            studentId\n          },\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n        commit(\"SET_TASK_LIST\", res.data.result);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async deleteTask({\n      commit\n    }, taskId) {\n      try {\n        const res = await axios.delete(`${config.domain}/company/delete-task/`, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          },\n          data: {\n            taskId\n          }\n        });\n        commit(\"DELETE_TASK\", taskId);\n        commit(\"SET_TOAST\", {\n          isSuccess: res.data.status,\n          message: res.data.message\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async addTask({\n      commit\n    }, task) {\n      try {\n        const res = await axios.post(`${config.domain}/company/create-task`, {\n          studentId: task.studentId,\n          title: task.title,\n          time: task.time\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n        commit(\"ADD_TASK\", res.data.result);\n        commit(\"SET_TOAST\", {\n          isSuccess: res.data.status,\n          message: res.data.message\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async assessTask({\n      commit\n    }, dataAssess) {\n      try {\n        const res = await axios.patch(`${config.domain}/company/assess-task`, {\n          status: dataAssess.status,\n          message: dataAssess.message,\n          taskId: dataAssess.taskId\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n        commit(\"SET_TOAST\", {\n          isSuccess: res.data.status,\n          message: res.data.message\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};\nexport default taskModule;","map":{"version":3,"names":["axios","config","token","localStorage","getItem","taskModule","state","taskList","taskCurrent","getters","getTaskList","getTaskCurrent","mutations","SET_TASK_LIST","SET_TASK_CURRENT","ADD_TASK","task","push","DELETE_TASK","taskId","i","length","_id","splice","actions","setTaskList","commit","studentId","res","get","domain","params","headers","Authorization","data","result","error","console","log","deleteTask","delete","isSuccess","status","message","addTask","post","title","time","assessTask","dataAssess","patch"],"sources":["D:/SV5T/frontend/src/store/modules/company-module/task.js"],"sourcesContent":["import axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nconst token = localStorage.getItem(\"token\");\r\nconst taskModule = {\r\n    state() {\r\n        return { taskList: [], taskCurrent: {} };\r\n    },\r\n    getters: {\r\n        getTaskList(state) {\r\n            return state.taskList;\r\n        },\r\n        getTaskCurrent(state) {\r\n            return state.taskCurrent;\r\n        },\r\n    },\r\n    mutations: {\r\n        SET_TASK_LIST(state, taskList) {\r\n            state.taskList = taskList;\r\n        },\r\n        SET_TASK_CURRENT(state, taskCurrent) {\r\n            state.taskCurrent = taskCurrent;\r\n        },\r\n        ADD_TASK(state, task) {\r\n            state.taskList.push(task);\r\n        },\r\n        DELETE_TASK(state, taskId) {\r\n            for (let i = 0; i < state.taskList.length; i++) {\r\n                if (state.taskList[i]._id == taskId) {\r\n                    state.taskList.splice(i, 1);\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n    },\r\n    actions: {\r\n        async setTaskList({ commit }, studentId) {\r\n            try {\r\n                const res = await axios.get(\r\n                    `${config.domain}/company/get-all-tasks`,\r\n                    {\r\n                        params: { studentId },\r\n                        headers: { Authorization: \"Bearer \" + token },\r\n                    }\r\n                );\r\n\r\n                commit(\"SET_TASK_LIST\", res.data.result);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async deleteTask({ commit }, taskId) {\r\n            try {\r\n                const res = await axios.delete(\r\n                    `${config.domain}/company/delete-task/`,\r\n                    {\r\n                        headers: { Authorization: \"Bearer \" + token },\r\n\r\n                        data: {\r\n                            taskId,\r\n                        },\r\n                    }\r\n                );\r\n\r\n                commit(\"DELETE_TASK\", taskId);\r\n                commit(\"SET_TOAST\", {\r\n                    isSuccess: res.data.status,\r\n                    message: res.data.message,\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async addTask({ commit }, task) {\r\n            try {\r\n                const res = await axios.post(\r\n                    `${config.domain}/company/create-task`,\r\n                    {\r\n                        studentId: task.studentId,\r\n                        title: task.title,\r\n                        time: task.time,\r\n                    },\r\n                    { headers: { Authorization: \"Bearer \" + token } }\r\n                );\r\n                commit(\"ADD_TASK\", res.data.result);\r\n\r\n                commit(\"SET_TOAST\", {\r\n                    isSuccess: res.data.status,\r\n                    message: res.data.message,\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async assessTask({ commit }, dataAssess) {\r\n            try {\r\n                const res = await axios.patch(\r\n                    `${config.domain}/company/assess-task`,\r\n                    {\r\n                        status: dataAssess.status,\r\n                        message: dataAssess.message,\r\n                        taskId: dataAssess.taskId,\r\n                    },\r\n                    { headers: { Authorization: \"Bearer \" + token } }\r\n                );\r\n\r\n                commit(\"SET_TOAST\", {\r\n                    isSuccess: res.data.status,\r\n                    message: res.data.message,\r\n                });\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n    },\r\n};\r\n\r\nexport default taskModule;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}