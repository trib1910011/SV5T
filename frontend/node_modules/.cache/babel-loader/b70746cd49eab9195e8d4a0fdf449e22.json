{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\"; // import config from \"@/config\";\n\nimport axios from \"axios\";\nexport default {\n  name: \"CreateForm\",\n  computed: { ...mapGetters({\n      student: \"getAccount\"\n    })\n  },\n\n  data() {\n    return {\n      spell: [],\n      standard: [],\n      gpa: \"\",\n      drl: \"\"\n    };\n  },\n\n  created() {\n    this.showSpell();\n  },\n\n  methods: {\n    async showSpell() {\n      const data = await axios.get(\"http://localhost:3000/spell/get-all-spell\");\n      const arr_data = data.data.findSpell;\n      const arr_result = arr_data.map((item, index) => {\n        return {\n          id: item._id,\n          stt: index + 1,\n          spellname: item.spellname,\n          name: item.name,\n          start: item.start,\n          end: item.end,\n          status: item.status ? 'Bắt đầu' : 'Kết thúc'\n        };\n      });\n      this.spell = arr_result;\n    },\n\n    async handleAssess() {\n      var arr_standard = [];\n      let DOM_Checkbox_standart = document.querySelectorAll(\".standard_check_box\");\n      DOM_Checkbox_standart.forEach(item => {\n        if (item.checked) {\n          arr_standard.push(item.dataset.standard);\n        }\n      });\n      const ob = {\n        studentId: this.student.id,\n        spellname: this.spell[0].name,\n        gpa: this.gpa,\n        drl: this.drl,\n        standard: arr_standard\n      };\n      const token = localStorage.getItem(\"token\");\n      await axios.post(\"http://localhost:3000/student/register-form\", ob, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      }).then(data => {\n        console.log(data);\n      }).catch(e => {\n        console.log(e);\n      }); //Sau khi thoát khỏi form\n\n      DOM_Checkbox_standart.forEach(item => {\n        item.checked = false;\n      });\n      this.gpa = \"\";\n      this.drl = \"\";\n    },\n\n    cancelForm() {\n      let DOM_Checkbox_standart = document.querySelectorAll(\".standard_check_box\");\n      DOM_Checkbox_standart.forEach(item => {\n        item.checked = false;\n      });\n      this.gpa = \"\";\n      this.drl = \"\";\n    },\n\n    async getStandard() {\n      const token = localStorage.getItem(\"token\");\n      const data = await axios.get(\"http://localhost:3000/student/get-standard\", {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      const arr_data = data.data.standards;\n      const arr_result = arr_data.map((item, index) => {\n        return {\n          id: item.id,\n          stt: index + 1,\n          codeStandard: item.codeStandard,\n          categoryName: item.categoryName,\n          contentStand: item.contentStand,\n          status: item.status ? 'Hiện' : 'Ẩn',\n          check: item.check\n        };\n      });\n      this.standards = arr_result;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["mapGetters","axios","name","computed","student","data","spell","standard","gpa","drl","created","showSpell","methods","get","arr_data","findSpell","arr_result","map","item","index","id","_id","stt","spellname","start","end","status","handleAssess","arr_standard","DOM_Checkbox_standart","document","querySelectorAll","forEach","checked","push","dataset","ob","studentId","token","localStorage","getItem","post","headers","Authorization","then","console","log","catch","e","cancelForm","getStandard","standards","codeStandard","categoryName","contentStand","check"],"sourceRoot":"","sources":["D:\\SV5T\\frontend\\src\\components\\Student\\Form\\CreateForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"assess-result\">\r\n        <!-- Button trigger modal -->\r\n\r\n        <!-- Modal -->\r\n        <div class=\"modal fade\" id=\"AssessResultModal\" tabindex=\"-1\" aria-labelledby=\"ModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-dialog-centered\" style=\"min-width: 800px !important;\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title fw-bold\" id=\"ModalLabel\" style=\"text-align: center;width: 100%;\">\r\n                            ĐƠN ĐĂNG KÝ XÉT SINH VIÊN 5 TỐT\r\n                        </h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                            @click=\"cancelForm\"></button>\r\n                    </div>\r\n                    <div class=\"col-12 d-flex mx-5\">\r\n                        <div class=\"col-6\">\r\n                            <strong>HỌ VÀ TÊN: </strong> {{ student.name }}<br>\r\n                            <strong>MSSV: </strong> {{ student.username }}<br>\r\n                            <strong>NGÀNH: </strong> {{ student.major }}<br>\r\n                            <strong>KHÓA: </strong> {{ student.course }}<br>\r\n                            <div v-for=\"(item, index) in spell\" :key=\"index\">\r\n                                <div v-if=\"item.status == 'Bắt đầu'\">\r\n                                    <strong>ĐỢT: </strong> {{ item.name }}\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n\r\n                        </div>\r\n                        <div class=\"col-6 mt-3\">\r\n                            <div>\r\n                                <strong>GPA: </strong>\r\n                                <input class=\"gpa\" require type=\"text\" style=\"width: 50px;\" v-model=\"gpa\">\r\n                            </div>\r\n                            <div>\r\n                                <strong>ĐIỂM RÈN LUYỆN: </strong>\r\n                                <input class=\"drl\" require type=\"text\" style=\"width: 50px;\" v-model=\"drl\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"table-assess d-flex\">\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\" class=\"col-1\">STT</th>\r\n                                        <th scope=\"col\" class=\"col-10\">Tiêu chí đánh giá</th>\r\n                                        <th scope=\"col\" class=\"col-1\">Đạt</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I</th>\r\n                                        <td style=\"font-weight: bold\">Đạo đức tốt</td>\r\n                                    </tr>\r\n                                    <tr v-for=\"(item, index) in standard\" :key=\"index\">\r\n                                        <template v-if=\"categoryName=='Đạo đức tốt' && status=='Hiện'\">\r\n                                            <th scope=\"row\">{{ item.stt }}</th>\r\n                                            <td></td>\r\n                                        </template>\r\n                                        \r\n                                    </tr>\r\n                                    \r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>\r\n                                            Và đạt thêm 1 trong các tiêu chí sau:\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II</th>\r\n                                        <td style=\"font-weight: bold\">\r\n                                            Học tập tốt\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>Đạt 1 trong các tiêu chuẩn sau:</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III</th>\r\n                                        <td style=\"font-weight: bold\">Thể lực tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>Đạt 1 trong các tiêu chuẩn sau:</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">IV</th>\r\n                                        <td style=\"font-weight: bold\">Tình nguyện tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>Đạt 1 trong các tiêu chuẩn sau:</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">V</th>\r\n                                        <td style=\"font-weight: bold\">Hội nhập tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>Đạt 2 trong 3 tiêu chuẩn sau:</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td style=\"font-weight: bold\">Các hoạt động tiêu biểu khác:</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"3\">\r\n                                            <textarea placeholder=\"Điền các hoạt động đã tham gia (ghi ngày cụ thể)...\"\r\n                                                name=\"\" id=\"\" cols=\"10\" rows=\"3\" class=\"form-control\"></textarea>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"cancelForm\">\r\n                            Đóng\r\n                        </button>\r\n\r\n                        <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"handleAssess\"\r\n                            :disabled=\"!gpa || !drl\">\r\n                            Xác nhận\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\n// import config from \"@/config\";\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"CreateForm\",\r\n    computed: {\r\n        ...mapGetters({ student: \"getAccount\" }),\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            spell: [],\r\n            standard: [],\r\n            gpa: \"\",\r\n            drl: \"\"\r\n        };\r\n    },\r\n    created() {\r\n        this.showSpell()\r\n    },\r\n    methods: {\r\n        async showSpell() {\r\n            const data = await axios.get(\"http://localhost:3000/spell/get-all-spell\")\r\n\r\n\r\n            const arr_data = data.data.findSpell;\r\n\r\n            const arr_result = arr_data.map((item, index) => {\r\n                return {\r\n                    id: item._id,\r\n                    stt: index + 1,\r\n                    spellname: item.spellname,\r\n                    name: item.name,\r\n                    start: item.start,\r\n                    end: item.end,\r\n                    status: item.status ? 'Bắt đầu' : 'Kết thúc'\r\n                }\r\n\r\n\r\n            })\r\n\r\n            this.spell = arr_result;\r\n        },\r\n        async handleAssess() {\r\n            var arr_standard = []\r\n            let DOM_Checkbox_standart = document.querySelectorAll(\".standard_check_box\");\r\n\r\n            DOM_Checkbox_standart.forEach((item) => {\r\n                if (item.checked) {\r\n                    arr_standard.push(item.dataset.standard)\r\n                }\r\n            })\r\n\r\n            const ob = {\r\n                studentId: this.student.id,\r\n                spellname: this.spell[0].name,\r\n                gpa: this.gpa,\r\n                drl: this.drl,\r\n                standard: arr_standard\r\n            }\r\n\r\n\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            await axios.post(\"http://localhost:3000/student/register-form\",\r\n                ob, {\r\n                headers: {\r\n                    Authorization: \"Bearer \" + token,\r\n                },\r\n            }).then((data) => {\r\n                console.log(data)\r\n            }).catch((e) => {\r\n                console.log(e)\r\n            })\r\n\r\n\r\n            //Sau khi thoát khỏi form\r\n            DOM_Checkbox_standart.forEach((item) => {\r\n                item.checked = false\r\n            })\r\n            this.gpa = \"\";\r\n            this.drl = \"\";\r\n        },\r\n\r\n        cancelForm() {\r\n            let DOM_Checkbox_standart = document.querySelectorAll(\".standard_check_box\");\r\n            DOM_Checkbox_standart.forEach((item) => {\r\n                item.checked = false\r\n            })\r\n            this.gpa = \"\";\r\n            this.drl = \"\";\r\n        },\r\n        async getStandard() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const data = await axios.get(\"http://localhost:3000/student/get-standard\",\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            )\r\n            const arr_data = data.data.standards;\r\n\r\n            const arr_result = arr_data.map((item,index) => {\r\n\r\n                return {\r\n                    id: item.id,\r\n                    stt: index +1,\r\n                    codeStandard: item.codeStandard,\r\n                    categoryName: item.categoryName,\r\n                    contentStand: item.contentStand,\r\n                    status: item.status ? 'Hiện' : 'Ẩn',\r\n                    check: item.check\r\n                }\r\n\r\n\r\n            })\r\n            this.standards = arr_result;\r\n\r\n        },\r\n\r\n    }\r\n    \r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table-assess {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n}\r\n</style> \r\n"]},"metadata":{},"sourceType":"module"}