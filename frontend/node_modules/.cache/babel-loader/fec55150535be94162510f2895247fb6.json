{"ast":null,"code":"import AvatarComponent from \"./AvatarComponent.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"InforStudent\",\n  components: {\n    AvatarComponent\n  },\n\n  created() {\n    this.showInforStudent();\n  },\n\n  methods: {\n    async showInforStudent() {\n      const token = localStorage.getItem(\"token\"); // decoded is username\n\n      const decoded = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET);\n      const user = await Account.findOne({\n        username: decoded\n      });\n\n      if (user) {\n        var {\n          _id,\n          username,\n          email,\n          phoneNumber,\n          name,\n          urlAvatar,\n          rule\n        } = user;\n      }\n\n      const data = await axios.get(\"http://localhost:3000/student/get-student-infor\", {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      const arr_data = data.data.findStudent;\n      const arr_result = arr_data.map((item, index) => {\n        return {\n          id: item._id,\n          stt: index + 1,\n          username: item.username,\n          name: item.categoryname,\n          major: item.major,\n          course: item.course\n        };\n      });\n      console.log(arr_result);\n      this.student = arr_result;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwBA,OAAOA,eAAP,MAA4B,uBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe;EACXC,IAAI,EAAE,cADK;EAEXC,UAAU,EAAE;IAAEH;EAAF,CAFD;;EAGXI,OAAO,GAAG;IACN,KAAKC,gBAAL;EACH,CALU;;EAMXC,OAAO,EAAE;IACL,MAAMD,gBAAN,GAAyB;MACrB,MAAME,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CADqB,CAEpB;;MACL,MAAMC,OAAM,GAAIC,GAAG,CAACC,MAAJ,CAAWL,KAAX,EAAkBM,OAAO,CAACC,GAAR,CAAYC,mBAA9B,CAAhB;MAER,MAAMC,IAAG,GACL,MAAMC,OAAO,CAACC,OAAR,CAAgB;QAClBC,QAAQ,EAAET;MADQ,CAAhB,CADV;;MAIA,IAAGM,IAAH,EAAQ;QACJ,IAAI;UAACI,GAAD;UAAMD,QAAN;UAAgBE,KAAhB;UAAuBC,WAAvB;UAAoCpB,IAApC;UAA0CqB,SAA1C;UAAqDC;QAArD,IAA6DR,IAAjE;MACJ;;MACY,MAAMS,IAAG,GAAI,MAAMxB,KAAK,CAACyB,GAAN,CAAU,iDAAV,EACf;QACIC,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYrB;QADtB;MADb,CADe,CAAnB;MASA,MAAMsB,QAAO,GAAIJ,IAAI,CAACA,IAAL,CAAUK,WAA3B;MAEA,MAAMC,UAAS,GAAIF,QAAQ,CAACG,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAiB;QAE7C,OAAO;UACHC,EAAE,EAAEF,IAAI,CAACb,GADN;UAEHgB,GAAG,EAAEF,KAAI,GAAI,CAFV;UAGHf,QAAQ,EAAEc,IAAI,CAACd,QAHZ;UAIHjB,IAAI,EAAE+B,IAAI,CAACI,YAJR;UAKHC,KAAK,EAAEL,IAAI,CAACK,KALT;UAMHC,MAAM,EAAEN,IAAI,CAACM;QANV,CAAP;MASH,CAXkB,CAAnB;MAYAC,OAAO,CAACC,GAAR,CAAYV,UAAZ;MACA,KAAKW,OAAL,GAAeX,UAAf;IAEH;;EAvCI;AANE,CAAf","names":["AvatarComponent","axios","name","components","created","showInforStudent","methods","token","localStorage","getItem","decoded","jwt","verify","process","env","ACCESS_TOKEN_SECRET","user","Account","findOne","username","_id","email","phoneNumber","urlAvatar","rule","data","get","headers","Authorization","arr_data","findStudent","arr_result","map","item","index","id","stt","categoryname","major","course","console","log","student"],"sourceRoot":"","sources":["D:\\SV5T\\frontend\\src\\components\\GlobalComponent\\InforStudent.vue"],"sourcesContent":["<template>\r\n    <div class=\"object-infor col-6 d-flex p-3 border rounded-4\">\r\n        <template v-for=\"(item, index) in student\" :key=\"index\">\r\n        <AvatarComponent :urlAvatar=\"item.urlAvatar\" class=\"col-5 me-4\" />\r\n        <div class=\"col-7 row flex-grow-1\">\r\n            \r\n                <div class=\"col-8 my-1\">\r\n                    <strong>MSSV: </strong> {{ item.username }}\r\n                </div>\r\n                <div class=\"col-12 my-1\">\r\n                    <strong>Họ và tên: </strong> {{ item.name }}\r\n                </div>\r\n                <div class=\"col-12 my-1\">\r\n                    <strong>Ngành: </strong> {{ item.major }}\r\n                </div>\r\n                <div class=\"col-5 my-1\">\r\n                    <strong>Khóa: </strong> {{ item.course }}\r\n                </div>\r\n        </div>\r\n    </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AvatarComponent from \"./AvatarComponent.vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"InforStudent\",\r\n    components: { AvatarComponent },\r\n    created() {\r\n        this.showInforStudent()\r\n    },\r\n    methods: {\r\n        async showInforStudent() {\r\n            const token = localStorage.getItem(\"token\");\r\n             // decoded is username\r\n        const decoded = jwt.verify(token, process.env.ACCESS_TOKEN_SECRET);\r\n\r\nconst user = \r\n    await Account.findOne({\r\n        username: decoded,\r\n    });\r\nif(user){\r\n    var {_id, username, email, phoneNumber, name, urlAvatar, rule} = user; \r\n}\r\n            const data = await axios.get(\"http://localhost:3000/student/get-student-infor\",\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            )\r\n\r\n\r\n            const arr_data = data.data.findStudent;\r\n\r\n            const arr_result = arr_data.map((item, index) => {\r\n\r\n                return {\r\n                    id: item._id,\r\n                    stt: index + 1,\r\n                    username: item.username,\r\n                    name: item.categoryname,\r\n                    major: item.major,\r\n                    course: item.course\r\n                }\r\n\r\n            })\r\n            console.log(arr_result)\r\n            this.student = arr_result;\r\n            \r\n        },\r\n    }\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.object-infor {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n    max-width: 49%;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}