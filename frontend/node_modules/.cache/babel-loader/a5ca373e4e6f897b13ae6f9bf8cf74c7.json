{"ast":null,"code":"import { mapGetters } from \"vuex\";\nexport default {\n  name: \"ViewProgress\",\n\n  data() {\n    return {\n      points: [],\n      time: \"\"\n    };\n  },\n\n  computed: { ...mapGetters({\n      tasks: \"getProgressInfor\",\n      student: \"getStudentInfor\",\n      companyAssess: \"getCompanyAssess\",\n      account: \"getAccount\"\n    }),\n\n    startDate() {\n      return this.student.startDate;\n    },\n\n    progress() {\n      let count = 0;\n      this.tasks.forEach(task => {\n        if (task.status) {\n          count++;\n        }\n      });\n      return isNaN(count * 100 / this.tasks.length) ? 0 : count * 100 / this.tasks.length;\n    },\n\n    completedAssess() {\n      let pointLength = this.points.length;\n      if (pointLength === 0 || pointLength < 14) return false;else return true;\n    }\n\n  },\n\n  async created() {\n    await this.$store.dispatch(\"setAccount\");\n    const id = this.$route.params.id ? this.$route.params.id : this.account.id;\n    const rule = localStorage.getItem(\"rule\").toLowerCase();\n    const payload = {\n      id,\n      rule\n    };\n    await this.$store.dispatch(\"setCompanyAssess\", payload);\n    this.points = this.companyAssess.points;\n  }\n\n};","map":{"version":3,"mappings":"AA4EA,SAASA,UAAT,QAA2B,MAA3B;AACA,eAAe;EACXC,IAAI,EAAE,cADK;;EAEXC,IAAI,GAAG;IACH,OAAO;MACHC,MAAM,EAAE,EADL;MAEHC,IAAI,EAAE;IAFH,CAAP;EAIH,CAPU;;EAQXC,QAAQ,EAAE,EACN,GAAGL,UAAU,CAAC;MACVM,KAAK,EAAE,kBADG;MAEVC,OAAO,EAAE,iBAFC;MAGVC,aAAa,EAAE,kBAHL;MAIVC,OAAO,EAAE;IAJC,CAAD,CADP;;IAONC,SAAS,GAAG;MACR,OAAO,KAAKH,OAAL,CAAaG,SAApB;IACH,CATK;;IAUNC,QAAQ,GAAG;MACP,IAAIC,KAAI,GAAI,CAAZ;MACA,KAAKN,KAAL,CAAWO,OAAX,CAAoBC,IAAD,IAAU;QACzB,IAAIA,IAAI,CAACC,MAAT,EAAiB;UACbH,KAAK;QACT;MACH,CAJD;MAKA,OAAOI,KAAK,CAAEJ,KAAI,GAAI,GAAT,GAAgB,KAAKN,KAAL,CAAWW,MAA5B,CAAL,GACD,CADC,GAEAL,KAAI,GAAI,GAAT,GAAgB,KAAKN,KAAL,CAAWW,MAFjC;IAGH,CApBK;;IAqBNC,eAAe,GAAG;MACd,IAAIC,WAAU,GAAI,KAAKhB,MAAL,CAAYc,MAA9B;MACA,IAAIE,WAAU,KAAM,CAAhB,IAAqBA,WAAU,GAAI,EAAvC,EAA2C,OAAO,KAAP,CAA3C,KACK,OAAO,IAAP;IACR;;EAzBK,CARC;;EAmCX,MAAMC,OAAN,GAAgB;IACZ,MAAM,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,YAArB,CAAN;IACA,MAAMC,EAAC,GAAI,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EAAnB,GACL,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EADd,GAEL,KAAKd,OAAL,CAAac,EAFnB;IAGA,MAAMG,IAAG,GAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,WAA7B,EAAb;IACA,MAAMC,OAAM,GAAI;MAAEP,EAAF;MAAMG;IAAN,CAAhB;IACA,MAAM,KAAKL,MAAL,CAAYC,QAAZ,CAAqB,kBAArB,EAAyCQ,OAAzC,CAAN;IACA,KAAK3B,MAAL,GAAc,KAAKK,aAAL,CAAmBL,MAAjC;EACH;;AA5CU,CAAf","names":["mapGetters","name","data","points","time","computed","tasks","student","companyAssess","account","startDate","progress","count","forEach","task","status","isNaN","length","completedAssess","pointLength","created","$store","dispatch","id","$route","params","rule","localStorage","getItem","toLowerCase","payload"],"sourceRoot":"","sources":["/Users/thiencao/Desktop/demo/internship-management/frontend/src/components/GlobalComponent/ViewProgress.vue"],"sourcesContent":["<template>\r\n    <div class=\"view-progress my-4 animate__animated animate__fadeIn\">\r\n        <div class=\"view-progress__content mb-3\">\r\n            <div class=\"view-progress__title col-6 me-5\">\r\n                <h2\r\n                    class=\"header-list label m-0 pt-2 fw-bold\"\r\n                    style=\"color: #555555\"\r\n                >\r\n                    Thông tin tiến độ thực tập\r\n                </h2>\r\n                <div class=\"line my-3\"></div>\r\n            </div>\r\n            <div class=\"view-progress__detail my-4\">\r\n                <p class=\"view-progress__date\" v-if=\"startDate\">\r\n                    <strong>Thời gian thực tập: </strong> từ ngày\r\n                    <span>{{ startDate }}</span>\r\n                </p>\r\n                <p v-else style=\"color: red\">Bạn chưa tham gia thực tập</p>\r\n                <p class=\"view-progress__status\" v-if=\"startDate\">\r\n                    <strong>Trạng thái hoàn thành: </strong>\r\n                    <span class=\"text-warning\" v-if=\"!completedAssess\"\r\n                        >Sinh viên đang thực tập</span\r\n                    >\r\n                    <span class=\"text-success\" v-else>\r\n                        Đã hoàn thành thực tập</span\r\n                    >\r\n                </p>\r\n            </div>\r\n            <div class=\"progress\" v-if=\"startDate\">\r\n                <div\r\n                    role=\"progressbar\"\r\n                    :class=\"\r\n                        progress\r\n                            ? ' bg-success text-light d-flex justify-content-center align-items-center'\r\n                            : ' d-flex justify-content-center align-items-center'\r\n                    \"\r\n                    :style=\"`width: ${progress || 100}%`\"\r\n                >\r\n                    {{ `${progress ? progress.toFixed() : 0}%` }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"table-progress border rounded-4 p-3\" v-if=\"startDate\">\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\" style=\"width: 5%\">Tuần</th>\r\n                        <th scope=\"col\" style=\"width: 40%\">\r\n                            Nội dung công việc\r\n                        </th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Trạng thái</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">Thời hạn</th>\r\n                        <th scope=\"col\" style=\"width: 30%\">Nhận xét</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(task, index) in tasks\" :key=\"index\">\r\n                        <th scope=\"row\">{{ ++index }}</th>\r\n                        <td>{{ task.title }}</td>\r\n                        <td>\r\n                            {{ task.status ? \"Hoàn thành\" : \"Chưa hoàn thành\" }}\r\n                        </td>\r\n                        <td>{{ task.time }}</td>\r\n                        <td :class=\"task.message ? '' : 'text-warning'\">\r\n                            {{\r\n                                task.message ? task.message : \"Chưa có nhận xét\"\r\n                            }}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n    name: \"ViewProgress\",\r\n    data() {\r\n        return {\r\n            points: [],\r\n            time: \"\",\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            tasks: \"getProgressInfor\",\r\n            student: \"getStudentInfor\",\r\n            companyAssess: \"getCompanyAssess\",\r\n            account: \"getAccount\",\r\n        }),\r\n        startDate() {\r\n            return this.student.startDate;\r\n        },\r\n        progress() {\r\n            let count = 0;\r\n            this.tasks.forEach((task) => {\r\n                if (task.status) {\r\n                    count++;\r\n                }\r\n            });\r\n            return isNaN((count * 100) / this.tasks.length)\r\n                ? 0\r\n                : (count * 100) / this.tasks.length;\r\n        },\r\n        completedAssess() {\r\n            let pointLength = this.points.length;\r\n            if (pointLength === 0 || pointLength < 14) return false;\r\n            else return true;\r\n        },\r\n    },\r\n    async created() {\r\n        await this.$store.dispatch(\"setAccount\");\r\n        const id = this.$route.params.id\r\n            ? this.$route.params.id\r\n            : this.account.id;\r\n        const rule = localStorage.getItem(\"rule\").toLowerCase();\r\n        const payload = { id, rule };\r\n        await this.$store.dispatch(\"setCompanyAssess\", payload);\r\n        this.points = this.companyAssess.points;\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.view-progress__title {\r\n    max-width: 48%;\r\n}\r\n\r\n.table-progress {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}