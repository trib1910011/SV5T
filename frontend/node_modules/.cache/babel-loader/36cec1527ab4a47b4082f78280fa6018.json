{"ast":null,"code":"import axios from \"axios\";\nimport config from \"../../../config/index.js\";\nconst InforInternship = {\n  state: {\n    studentInfor: {},\n    companyInfor: {},\n    progressInfor: [],\n    companyAssess: {},\n    teacherAssess: {}\n  },\n  getters: {\n    getStudentInfor(state) {\n      return state.studentInfor;\n    },\n\n    getCompanyInfor(state) {\n      return state.companyInfor;\n    },\n\n    getProgressInfor(state) {\n      return state.progressInfor;\n    },\n\n    getCompanyAssess(state) {\n      return state.companyAssess;\n    },\n\n    getTeacherAssess(state) {\n      return state.teacherAssess;\n    }\n\n  },\n  mutations: {\n    SET_STUDENT_INFOR(state, studentInfor) {\n      state.studentInfor = studentInfor;\n    },\n\n    SET_COMPANY_INFOR(state, companyInfor) {\n      state.companyInfor = companyInfor;\n    },\n\n    SET_PROGRESS_INFOR(state, progressInfor) {\n      state.progressInfor = progressInfor;\n    },\n\n    SET_COMPANY_ASSESS(state, companyAssess) {\n      state.companyAssess = companyAssess;\n    },\n\n    SET_TEACHER_ASSESS(state, teacherAssess) {\n      state.teacherAssess = teacherAssess;\n    }\n\n  },\n  actions: {\n    async setStudentInfor({\n      commit\n    }, payload) {\n      const token = localStorage.getItem(\"token\");\n      console.log(payload); // Lay thong tin thuc tap cua sinh vien.\n\n      const response = await axios.get(`${config.domain}/${payload.rule}/get-student-infor`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId: payload.id\n        }\n      }); // Thay doi dinh dang ngay  bat dau thuc tap!\n\n      let startDate = response.data.result.startDate;\n      response.data.result.startDate = startDate === 0 ? 0 : new Date(startDate).toLocaleDateString(\"en-GB\");\n      commit(\"SET_STUDENT_INFOR\", response.data.result);\n    },\n\n    async setCompanyInfor({\n      commit\n    }, payload) {\n      const token = localStorage.getItem(\"token\"); // Lay thong tin thuc tap cua sinh vien!\n\n      const responseStudent = await axios.get(`${config.domain}/${payload.rule}/get-student-infor`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId: payload.id\n        }\n      }); // Lay thong tin don vi thuc tap!\n\n      const companyId = responseStudent.data.result.companyId;\n\n      if (companyId) {\n        const response = await axios.get(`${config.domain}/${payload.rule}/get-company-infor`, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          },\n          params: {\n            companyId: companyId\n          }\n        });\n        commit(\"SET_COMPANY_INFOR\", response.data.result);\n      }\n    },\n\n    async setProgressInfor({\n      commit\n    }, payload) {\n      const token = localStorage.getItem(\"token\"); // Lay thong tin phan cong cong viec\n\n      const response = await axios.get(`${config.domain}/${payload.rule}/get-all-task`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId: payload.id\n        }\n      }); // Thay doi dinh dang thoi gian hoan thanh cong viec\n\n      response.data.result.forEach(task => {\n        task.time = new Date(task.time).toLocaleDateString(\"en-GB\");\n      });\n      commit(\"SET_PROGRESS_INFOR\", response.data.result);\n    },\n\n    async setCompanyAssess({\n      commit\n    }, payload) {\n      const token = localStorage.getItem(\"token\"); // Lay thong tin danh gia cua don vi thuc tap!\n\n      const response = await axios.get(`${config.domain}/${payload.rule}/get-company-assess`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId: payload.id\n        }\n      });\n\n      if (!response.data.result) {\n        commit(\"SET_COMPANY_ASSESS\", {\n          points: []\n        });\n      } else commit(\"SET_COMPANY_ASSESS\", response.data.result);\n    },\n\n    async setTeacherAssess({\n      commit\n    }, payload) {\n      const token = localStorage.getItem(\"token\"); // Lay thong tin danh gia cua giang vien\n\n      const response = await axios.get(`${config.domain}/${payload.rule}/get-assess`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId: payload.id\n        }\n      });\n      commit(\"SET_TEACHER_ASSESS\", response.data.points);\n    }\n\n  }\n};\nexport default InforInternship;","map":{"version":3,"names":["axios","config","InforInternship","state","studentInfor","companyInfor","progressInfor","companyAssess","teacherAssess","getters","getStudentInfor","getCompanyInfor","getProgressInfor","getCompanyAssess","getTeacherAssess","mutations","SET_STUDENT_INFOR","SET_COMPANY_INFOR","SET_PROGRESS_INFOR","SET_COMPANY_ASSESS","SET_TEACHER_ASSESS","actions","setStudentInfor","commit","payload","token","localStorage","getItem","console","log","response","get","domain","rule","headers","Authorization","params","studentId","id","startDate","data","result","Date","toLocaleDateString","setCompanyInfor","responseStudent","companyId","setProgressInfor","forEach","task","time","setCompanyAssess","points","setTeacherAssess"],"sources":["D:/SV5T/frontend/src/store/modules/teacher-module/inforInternship.js"],"sourcesContent":["import axios from \"axios\";\r\nimport config from \"../../../config/index.js\";\r\n\r\nconst InforInternship = {\r\n    state: {\r\n        studentInfor: {},\r\n        companyInfor: {},\r\n        progressInfor: [],\r\n        companyAssess: {},\r\n        teacherAssess: {},\r\n    },\r\n    getters: {\r\n        getStudentInfor(state) {\r\n            return state.studentInfor;\r\n        },\r\n        getCompanyInfor(state) {\r\n            return state.companyInfor;\r\n        },\r\n        getProgressInfor(state) {\r\n            return state.progressInfor;\r\n        },\r\n        getCompanyAssess(state) {\r\n            return state.companyAssess;\r\n        },\r\n        getTeacherAssess(state) {\r\n            return state.teacherAssess;\r\n        },\r\n    },\r\n    mutations: {\r\n        SET_STUDENT_INFOR(state, studentInfor) {\r\n            state.studentInfor = studentInfor;\r\n        },\r\n        SET_COMPANY_INFOR(state, companyInfor) {\r\n            state.companyInfor = companyInfor;\r\n        },\r\n        SET_PROGRESS_INFOR(state, progressInfor) {\r\n            state.progressInfor = progressInfor;\r\n        },\r\n        SET_COMPANY_ASSESS(state, companyAssess) {\r\n            state.companyAssess = companyAssess;\r\n        },\r\n        SET_TEACHER_ASSESS(state, teacherAssess) {\r\n            state.teacherAssess = teacherAssess;\r\n        },\r\n    },\r\n    actions: {\r\n        async setStudentInfor({ commit }, payload) {\r\n            const token = localStorage.getItem(\"token\");\r\n            console.log(payload);\r\n\r\n            // Lay thong tin thuc tap cua sinh vien.\r\n            const response = await axios.get(\r\n                `${config.domain}/${payload.rule}/get-student-infor`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { studentId: payload.id },\r\n                }\r\n            );\r\n\r\n            // Thay doi dinh dang ngay  bat dau thuc tap!\r\n            let startDate = response.data.result.startDate;\r\n            response.data.result.startDate =\r\n                startDate === 0\r\n                    ? 0\r\n                    : new Date(startDate).toLocaleDateString(\"en-GB\");\r\n            commit(\"SET_STUDENT_INFOR\", response.data.result);\r\n        },\r\n\r\n        async setCompanyInfor({ commit }, payload) {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            // Lay thong tin thuc tap cua sinh vien!\r\n            const responseStudent = await axios.get(\r\n                `${config.domain}/${payload.rule}/get-student-infor`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { studentId: payload.id },\r\n                }\r\n            );\r\n\r\n            // Lay thong tin don vi thuc tap!\r\n            const companyId = responseStudent.data.result.companyId;\r\n            if (companyId) {\r\n                const response = await axios.get(\r\n                    `${config.domain}/${payload.rule}/get-company-infor`,\r\n                    {\r\n                        headers: { Authorization: \"Bearer \" + token },\r\n                        params: { companyId: companyId },\r\n                    }\r\n                );\r\n                commit(\"SET_COMPANY_INFOR\", response.data.result);\r\n            }\r\n        },\r\n\r\n        async setProgressInfor({ commit }, payload) {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            // Lay thong tin phan cong cong viec\r\n            const response = await axios.get(\r\n                `${config.domain}/${payload.rule}/get-all-task`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { studentId: payload.id },\r\n                }\r\n            );\r\n\r\n            // Thay doi dinh dang thoi gian hoan thanh cong viec\r\n            response.data.result.forEach((task) => {\r\n                task.time = new Date(task.time).toLocaleDateString(\"en-GB\");\r\n            });\r\n            commit(\"SET_PROGRESS_INFOR\", response.data.result);\r\n        },\r\n\r\n        async setCompanyAssess({ commit }, payload) {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            // Lay thong tin danh gia cua don vi thuc tap!\r\n            const response = await axios.get(\r\n                `${config.domain}/${payload.rule}/get-company-assess`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { studentId: payload.id },\r\n                }\r\n            );\r\n            if (!response.data.result) {\r\n                commit(\"SET_COMPANY_ASSESS\", { points: [] });\r\n            } else commit(\"SET_COMPANY_ASSESS\", response.data.result);\r\n        },\r\n\r\n        async setTeacherAssess({ commit }, payload) {\r\n            const token = localStorage.getItem(\"token\");\r\n\r\n            // Lay thong tin danh gia cua giang vien\r\n            const response = await axios.get(\r\n                `${config.domain}/${payload.rule}/get-assess`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { studentId: payload.id },\r\n                }\r\n            );\r\n            commit(\"SET_TEACHER_ASSESS\", response.data.points);\r\n        },\r\n    },\r\n};\r\n\r\nexport default InforInternship;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}