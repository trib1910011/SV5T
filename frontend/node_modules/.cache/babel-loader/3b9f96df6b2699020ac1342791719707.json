{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport config from \"@/config\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport Overview from \"@/components/Teacher/Manage/Overview.vue\";\nimport DetailStudent from \"@/components/Teacher/Manage/DetailStudent.vue\";\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\nimport StudentFilter from \"@/components/StudentFilter/StudentFilter.vue\";\nimport StudentItem from \"../../components/Teacher/Manage/StudentItem.vue\";\nexport default {\n  name: \"TeacherManage\",\n  components: {\n    Overview,\n    DetailStudent,\n    StudentFilter,\n    TitleStructure,\n    StudentItem\n  },\n  computed: { ...mapGetters({\n      account: \"getAccount\",\n      currentList: \"getCurrentList\"\n    })\n  },\n  methods: mapActions([\"setAccount\"]),\n\n  async created() {\n    //Tao lai account khi refresh\n    await this.setAccount();\n    const token = localStorage.getItem(\"token\"); // Lay danh sach lop <classManagement> cua giang vien!\n\n    const response = await axios.get(`${config.domain}/teacher/get-class-list`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      },\n      params: {\n        teacherId: this.account.id\n      }\n    });\n    const classList = response.data.result; //Lay ten lop tu danh sach lop cua giang vien!\n\n    const className = [];\n    classList.forEach(classManagement => {\n      if (!className.includes(classManagement.className)) {\n        className.push(classManagement.className);\n      }\n    });\n    this.$store.commit(\"SET_CLASS_NAME\", className); //Lay danh sach sinh vien tu ten lop cua giang vien\n\n    const studentList = [];\n\n    for (let i = 0; i < className.length; ++i) {\n      const response = await axios.get(`${config.domain}/teacher/get-student-list`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          className: className[i]\n        }\n      });\n      const tempt = response.data.result;\n      studentList.push(...tempt);\n    }\n\n    this.$store.commit(\"SET_STUDENT_LIST\", studentList);\n    this.$store.commit(\"SET_CURRENT_LIST\", studentList);\n  },\n\n  mounted() {\n    // Dong cac detail khi accordion khong mo.\n    const accordion = document.querySelector(\".accordion-collapse.show\");\n\n    if (!accordion) {\n      this.$store.commit(\"CLOSE_DETAIL_STUDENT\");\n    }\n  }\n\n};","map":{"version":3,"mappings":";AAsCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,MAAvC;AACA,OAAOC,QAAP,MAAqB,0CAArB;AACA,OAAOC,aAAP,MAA0B,+CAA1B;AACA,OAAOC,cAAP,MAA2B,iDAA3B;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AACA,OAAOC,WAAP,MAAwB,iDAAxB;AAEA,eAAe;EACXC,IAAI,EAAE,eADK;EAEXC,UAAU,EAAE;IACRN,QADQ;IAERC,aAFQ;IAGRE,aAHQ;IAIRD,cAJQ;IAKRE;EALQ,CAFD;EASXG,QAAQ,EAAE,EACN,GAAGT,UAAU,CAAC;MAAEU,OAAO,EAAE,YAAX;MAAyBC,WAAW,EAAE;IAAtC,CAAD;EADP,CATC;EAYXC,OAAO,EAAEX,UAAU,CAAC,CAAC,YAAD,CAAD,CAZR;;EAcX,MAAMY,OAAN,GAAgB;IACZ;IACA,MAAM,KAAKC,UAAL,EAAN;IAEA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAJY,CAMZ;;IACA,MAAMC,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CAClB,GAAEpB,MAAM,CAACqB,MAAO,yBADE,EAEnB;MACIC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYP;MAA7B,CADb;MAEIQ,MAAM,EAAE;QAAEC,SAAS,EAAE,KAAKd,OAAL,CAAae;MAA1B;IAFZ,CAFmB,CAAvB;IAOA,MAAMC,SAAQ,GAAIR,QAAQ,CAACS,IAAT,CAAcC,MAAhC,CAdY,CAgBZ;;IACA,MAAMC,SAAQ,GAAI,EAAlB;IACAH,SAAS,CAACI,OAAV,CAAmBC,eAAD,IAAqB;MACnC,IAAI,CAACF,SAAS,CAACG,QAAV,CAAmBD,eAAe,CAACF,SAAnC,CAAL,EAAoD;QAChDA,SAAS,CAACI,IAAV,CAAeF,eAAe,CAACF,SAA/B;MACJ;IACH,CAJD;IAKA,KAAKK,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqCN,SAArC,EAvBY,CAyBZ;;IACA,MAAMO,WAAU,GAAI,EAApB;;IACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIR,SAAS,CAACS,MAA9B,EAAsC,EAAED,CAAxC,EAA2C;MACvC,MAAMnB,QAAO,GAAI,MAAMpB,KAAK,CAACqB,GAAN,CAClB,GAAEpB,MAAM,CAACqB,MAAO,2BADE,EAEnB;QACIC,OAAO,EAAE;UAAEC,aAAa,EAAE,YAAYP;QAA7B,CADb;QAEIQ,MAAM,EAAE;UAAEM,SAAS,EAAEA,SAAS,CAACQ,CAAD;QAAtB;MAFZ,CAFmB,CAAvB;MAOA,MAAME,KAAI,GAAIrB,QAAQ,CAACS,IAAT,CAAcC,MAA5B;MACAQ,WAAW,CAACH,IAAZ,CAAiB,GAAGM,KAApB;IACJ;;IAEA,KAAKL,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAuCC,WAAvC;IACA,KAAKF,MAAL,CAAYC,MAAZ,CAAmB,kBAAnB,EAAuCC,WAAvC;EACH,CAvDU;;EAwDXI,OAAO,GAAG;IACN;IACA,MAAMC,SAAQ,GAAIC,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAAlB;;IACA,IAAI,CAACF,SAAL,EAAgB;MACZ,KAAKP,MAAL,CAAYC,MAAZ,CAAmB,sBAAnB;IACJ;EACH;;AA9DU,CAAf","names":["axios","config","mapGetters","mapActions","Overview","DetailStudent","TitleStructure","StudentFilter","StudentItem","name","components","computed","account","currentList","methods","created","setAccount","token","localStorage","getItem","response","get","domain","headers","Authorization","params","teacherId","id","classList","data","result","className","forEach","classManagement","includes","push","$store","commit","studentList","i","length","tempt","mounted","accordion","document","querySelector"],"sourceRoot":"","sources":["/Users/thiencao/Desktop/Final_NienLuan/internship-management/frontend/src/views/teacher/TeacherManage.vue"],"sourcesContent":["<template>\r\n    <div class=\"teacher-manage p-4\">\r\n        <div class=\"col-12 d-flex\">\r\n            <TitleStructure :title=\"`Danh sách sinh viên`\" class=\"col-6 me-4\">\r\n                <img\r\n                    src=\"https://cdn-icons-png.flaticon.com/512/4426/4426381.png\"\r\n                    alt=\"Lọc sinh viên\"\r\n                    data-bs-toggle=\"modal\"\r\n                    data-bs-target=\"#StudentFilter\"\r\n                    class=\"filter-icon\"\r\n                />\r\n            </TitleStructure>\r\n            <TitleStructure :title=\"`Tổng quan`\" class=\"col-6 title-detail\">\r\n            </TitleStructure>\r\n        </div>\r\n        <div class=\"teacher-manage__content row\">\r\n            <div class=\"teacher-student-list col-6\">\r\n                <div class=\"teacher-student-item\">\r\n                    <StudentItem\r\n                        v-for=\"(student, index) in currentList\"\r\n                        :key=\"index\"\r\n                        :index=\"`id${index}`\"\r\n                        :student=\"student\"\r\n                        class=\"me-3\"\r\n                    >\r\n                    </StudentItem>\r\n                </div>\r\n            </div>\r\n            <div class=\"view-detail col-6 flex-grow-1\">\r\n                <Overview />\r\n                <DetailStudent></DetailStudent>\r\n            </div>\r\n        </div>\r\n        <StudentFilter />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport Overview from \"@/components/Teacher/Manage/Overview.vue\";\r\nimport DetailStudent from \"@/components/Teacher/Manage/DetailStudent.vue\";\r\nimport TitleStructure from \"@/components/GlobalComponent/TitleStructure.vue\";\r\nimport StudentFilter from \"@/components/StudentFilter/StudentFilter.vue\";\r\nimport StudentItem from \"../../components/Teacher/Manage/StudentItem.vue\";\r\n\r\nexport default {\r\n    name: \"TeacherManage\",\r\n    components: {\r\n        Overview,\r\n        DetailStudent,\r\n        StudentFilter,\r\n        TitleStructure,\r\n        StudentItem,\r\n    },\r\n    computed: {\r\n        ...mapGetters({ account: \"getAccount\", currentList: \"getCurrentList\" }),\r\n    },\r\n    methods: mapActions([\"setAccount\"]),\r\n\r\n    async created() {\r\n        //Tao lai account khi refresh\r\n        await this.setAccount();\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        // Lay danh sach lop <classManagement> cua giang vien!\r\n        const response = await axios.get(\r\n            `${config.domain}/teacher/get-class-list`,\r\n            {\r\n                headers: { Authorization: \"Bearer \" + token },\r\n                params: { teacherId: this.account.id },\r\n            }\r\n        );\r\n        const classList = response.data.result;\r\n\r\n        //Lay ten lop tu danh sach lop cua giang vien!\r\n        const className = [];\r\n        classList.forEach((classManagement) => {\r\n            if (!className.includes(classManagement.className)) {\r\n                className.push(classManagement.className);\r\n            }\r\n        });\r\n        this.$store.commit(\"SET_CLASS_NAME\", className);\r\n\r\n        //Lay danh sach sinh vien tu ten lop cua giang vien\r\n        const studentList = [];\r\n        for (let i = 0; i < className.length; ++i) {\r\n            const response = await axios.get(\r\n                `${config.domain}/teacher/get-student-list`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: { className: className[i] },\r\n                }\r\n            );\r\n            const tempt = response.data.result;\r\n            studentList.push(...tempt);\r\n        }\r\n\r\n        this.$store.commit(\"SET_STUDENT_LIST\", studentList);\r\n        this.$store.commit(\"SET_CURRENT_LIST\", studentList);\r\n    },\r\n    mounted() {\r\n        // Dong cac detail khi accordion khong mo.\r\n        const accordion = document.querySelector(\".accordion-collapse.show\");\r\n        if (!accordion) {\r\n            this.$store.commit(\"CLOSE_DETAIL_STUDENT\");\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teacher-student-item {\r\n    height: 420px;\r\n    overflow-y: scroll;\r\n}\r\n.view-detail {\r\n    width: 49%;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}