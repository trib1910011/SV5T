{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import config from \"@/config\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  props: ['dataParent'],\n  // setup(props) {\n  //     // setup() receives props as the first argument.\n  //     console.log(props.dataParent)\n  // },\n  name: \"ViewDetail\",\n\n  data() {\n    return {\n      passData: {},\n      standard: [],\n      checkShowDOM: true,\n      form: []\n    };\n  },\n\n  created() {\n    this.viewDetail();\n    this.showForm; // this.viewData(this.dataParent)\n  },\n\n  methods: {\n    // viewData: (dataParent) => {\n    //     setTimeout(() => {\n    //         console.log(dataParent)\n    //     }, 5000)\n    // },\n    async UpdateForm(id_input, id_teacher, check) {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.patch(`http://localhost:3000/teacher/update-form/${id_input}`, {\n        check: `${id_teacher}-${check}`\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.commit(\"SET_TOAST\", {\n        message: res.data.message,\n        isSuccess: res.data.status\n      });\n      this.showForm();\n    },\n\n    async showForm() {\n      const token = localStorage.getItem(\"token\");\n      const data1 = await axios.get(\"http://localhost:3000/student/get-form\", {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      const data_form = data1.data.arr;\n      const arr_result = [];\n      data_form.forEach((item, index) => {\n        if (item.studentId.username == this.st.username) {\n          let ob = {\n            stt: index + 1,\n            id: item._id,\n            username: item.studentId.username,\n            name: item.studentId.name,\n            major: item.major,\n            course: item.course,\n            drl: item.drl,\n            gpa: item.gpa,\n            result: item.result,\n            spellname: item.spellname,\n            standard: item.standard,\n            created: item.createdAt\n          };\n          arr_result.push(ob);\n        }\n      });\n      this.form = arr_result;\n    },\n\n    viewDetail() {\n      try {\n        let data = JSON.parse(localStorage.getItem('view_detail_form'));\n\n        if (data) {\n          const checkShow = data.id_teacher;\n          const countCheckShow = data.data.count_check;\n          const arr_new = countCheckShow.map(item => {\n            return item.split(\"-\")[0];\n          });\n          const check = arr_new.includes(checkShow);\n          check ? this.checkShowDOM = false : this.checkShowDOM = true;\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n  },\n  computed: { ...mapGetters({\n      st: \"getAccount\"\n    })\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","mapGetters","props","name","data","passData","standard","checkShowDOM","form","created","viewDetail","showForm","methods","UpdateForm","id_input","id_teacher","check","token","localStorage","getItem","res","patch","headers","Authorization","$store","commit","message","isSuccess","status","data1","get","data_form","arr","arr_result","forEach","item","index","studentId","username","st","ob","stt","id","_id","major","course","drl","gpa","result","spellname","createdAt","push","JSON","parse","checkShow","countCheckShow","count_check","arr_new","map","split","includes","e","console","log","computed"],"sourceRoot":"","sources":["D:\\SV5T\\frontend\\src\\components\\Student\\Form\\ViewDetail.vue"],"sourcesContent":["<template>\r\n    <div class=\"assess-result\">\r\n        <!-- Button trigger modal -->\r\n\r\n        <!-- Modal -->\r\n        <div class=\"modal fade\" id=\"ViewDetailModal\" tabindex=\"-1\" aria-labelledby=\"ModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-dialog-centered\" style=\"min-width: 800px !important;\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title fw-bold\" id=\"ModalLabel\" style=\"text-align: center;width: 100%;\">\r\n                            ĐƠN ĐĂNG KÝ XÉT SINH VIÊN 5 TỐT\r\n                        </h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                            @click=\"cancelForm\"></button>\r\n                    </div>\r\n                    <div class=\"col-12 d-flex mx-5\">\r\n                        <div class=\"col-6\">\r\n                            <!-- <template v-for=\"(item, index) in form\" :key=\"index\"> -->\r\n                            <!-- <strong>HỌ VÀ TÊN: </strong> <br>\r\n                            <strong>MSSV: </strong> <br>\r\n                            <strong>NGÀNH: </strong> <br>\r\n                            <strong>KHÓA: </strong> <br>\r\n                            <strong>ĐỢT: </strong> -->\r\n                            <!-- </template> -->\r\n                            <div>\r\n                                <strong>GPA: {{ dataParent.gpa }}</strong>\r\n                            </div>\r\n                            <div>\r\n                                <strong>ĐIỂM RÈN LUYỆN: {{ dataParent.drl }}</strong>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <!-- <div class=\"col-6 mt-3\">\r\n                            <div>\r\n                                <strong>GPA: {{dataForm.gpa}}</strong>\r\n                            </div>\r\n                            <div>\r\n                                <strong>ĐIỂM RÈN LUYỆN: </strong>\r\n\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"table-assess d-flex\">\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\" class=\"col-1\">STT</th>\r\n                                        <th scope=\"col\" class=\"col-10\">Tiêu chí đã đạt được</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I</th>\r\n                                        <td style=\"font-weight: bold\">Đạo đức tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                        <th scope=\"row\"></th>\r\n                                        <template v-for=\"fruit in dataParent.standard\" :key=\"fruit.id\">\r\n                                            <template v-if=\"fruit.split('-')[0] == 'DD'\">\r\n                                                - {{ fruit.split(\"-\")[1] }} <br>\r\n                                            </template>\r\n\r\n\r\n                                        </template>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II</th>\r\n                                        <td style=\"font-weight: bold\">\r\n                                            Học tập tốt\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                        <th scope=\"row\"></th>\r\n                                        <template v-for=\"fruit in dataParent.standard\" :key=\"fruit.id\">\r\n                                            <template v-if=\"fruit.split('-')[0] == 'HT'\">\r\n                                                - {{ fruit.split(\"-\")[1] }} <br>\r\n                                            </template>\r\n\r\n\r\n                                        </template>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III</th>\r\n                                        <td style=\"font-weight: bold\">Thể lực tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                        <th scope=\"row\"></th>\r\n                                        <template v-for=\"fruit in dataParent.standard\" :key=\"fruit.id\">\r\n                                            <template v-if=\"fruit.split('-')[0] == 'TL'\">\r\n                                                - {{ fruit.split(\"-\")[1] }} <br>\r\n                                            </template>\r\n\r\n\r\n                                        </template>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">IV</th>\r\n                                        <td style=\"font-weight: bold\">Tình nguyện tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                        <th scope=\"row\"></th>\r\n                                        <template v-for=\"fruit in dataParent.standard\" :key=\"fruit.id\">\r\n                                            <template v-if=\"fruit.split('-')[0] == 'TN'\">\r\n                                                - {{ fruit.split(\"-\")[1] }} <br>\r\n                                            </template>\r\n\r\n\r\n                                        </template>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">V</th>\r\n                                        <td style=\"font-weight: bold\">Hội nhập tốt</td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                        <th scope=\"row\"></th>\r\n                                        <template v-for=\"fruit in dataParent.standard\" :key=\"fruit.id\">\r\n                                            <template v-if=\"fruit.split('-')[0] == 'HN'\">\r\n                                                - {{ fruit.split(\"-\")[1] }} <br>\r\n                                            </template>\r\n\r\n\r\n                                        </template>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td style=\"font-weight: bold\">Các hoạt động tiêu biểu khác:</td><br>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\"></th>\r\n                                        <td>\r\n                                            <pre>{{ dataParent.more }}</pre>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"st.rule == 'TEACHER' && this.checkShowDOM == true\" class=\"modal-footer\"\r\n                        style=\"justify-content: center;width: 100%;\">\r\n                        <button type=\"button\" class=\"btn btn-success\" data-bs-dismiss=\"modal\"\r\n                            @click=\"UpdateForm(dataParent._id, st.id, 'Đạt')\">\r\n                            Đạt\r\n                        </button>\r\n                        <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" \r\n                            @click=\"UpdateForm(dataParent._id, st.id, 'Chưa đạt')\">\r\n                            Chưa đạt\r\n                        </button>\r\n                        \r\n\r\n                    </div>\r\n                    <div v-else-if=\"st.rule == 'TEACHER' && this.checkShowDOM == false\" class=\"modal-footer\"\r\n                        style=\"justify-content: center;width: 100%;\">\r\n                        <td style=\"font-weight: bold;\">Đã duyệt</td>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import config from \"@/config\";\r\nimport axios from \"axios\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n    props: ['dataParent'],\r\n    // setup(props) {\r\n    //     // setup() receives props as the first argument.\r\n    //     console.log(props.dataParent)\r\n    // },\r\n    name: \"ViewDetail\",\r\n    data() {\r\n        return {\r\n            passData: {},\r\n            standard: [],\r\n            checkShowDOM: true,\r\n            form: [],\r\n        };\r\n    },\r\n    created() {\r\n        this.viewDetail()\r\n        this.showForm\r\n        // this.viewData(this.dataParent)\r\n    },\r\n    methods: {\r\n        // viewData: (dataParent) => {\r\n        //     setTimeout(() => {\r\n\r\n        //         console.log(dataParent)\r\n        //     }, 5000)\r\n        // },\r\n        async UpdateForm(id_input, id_teacher, check) {\r\n            const token = localStorage.getItem(\"token\");\r\n            const res = await axios.patch(`http://localhost:3000/teacher/update-form/${id_input}`,\r\n                {\r\n                    check: `${id_teacher}-${check}`\r\n                },\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                },\r\n                \r\n            )\r\n            this.$store.commit(\"SET_TOAST\", {\r\n                message: res.data.message,\r\n                isSuccess: res.data.status,\r\n            })\r\n            this.showForm()\r\n        },\r\n        async showForm() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const data1 = await axios.get(\"http://localhost:3000/student/get-form\", {\r\n                headers: {\r\n                    Authorization: \"Bearer \" + token,\r\n                }\r\n            })\r\n\r\n            const data_form = data1.data.arr\r\n            const arr_result = []\r\n            data_form.forEach((item, index) => {\r\n                if (item.studentId.username == this.st.username) {\r\n                    let ob = {\r\n                        stt: index + 1,\r\n                        id: item._id,\r\n                        username: item.studentId.username,\r\n                        name: item.studentId.name,\r\n                        major: item.major,\r\n                        course: item.course,\r\n                        drl: item.drl,\r\n                        gpa: item.gpa,\r\n                        result: item.result,\r\n                        spellname: item.spellname,\r\n                        standard: item.standard,\r\n                        created: item.createdAt\r\n                    }\r\n                    arr_result.push(ob)\r\n                }\r\n            })\r\n\r\n            this.form = arr_result;\r\n        },\r\n        viewDetail() {\r\n            try {\r\n                let data = JSON.parse(localStorage.getItem('view_detail_form'))\r\n                if (data) {\r\n                    const checkShow = data.id_teacher;\r\n\r\n                    const countCheckShow = data.data.count_check\r\n\r\n                    const arr_new = countCheckShow.map((item) => {\r\n                        return item.split(\"-\")[0]\r\n                    })\r\n\r\n                    const check = arr_new.includes(checkShow)\r\n\r\n                    check ? this.checkShowDOM = false : this.checkShowDOM = true\r\n                }\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n\r\n            \r\n        },\r\n    },\r\n\r\n    computed: {\r\n        ...mapGetters({ st: \"getAccount\" }),\r\n\r\n\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table-assess {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n}\r\n</style> \r\n"]},"metadata":{},"sourceType":"module"}