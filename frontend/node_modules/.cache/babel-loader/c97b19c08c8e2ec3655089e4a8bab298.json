{"ast":null,"code":"import axios from \"axios\";\nimport config from \"@/config/index.js\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  name: \"AssessResult\",\n\n  data() {\n    return {\n      points: [],\n      message: \"\"\n    };\n  },\n\n  methods: {\n    async handleAssess() {\n      const token = localStorage.getItem(\"token\");\n      const studentId = this.$route.params.studentId;\n      this.points[0] = ((this.points[1] + this.points[2] + this.points[3] + this.points[4]) / 4).toFixed(1);\n      this.points[5] = ((this.points[6] + this.points[7] + this.points[8]) / 3).toFixed(1);\n      this.points[9] = ((this.points[10] + this.points[11] + this.points[12]) / 3).toFixed(1);\n      this.points[13] = ((+this.points[0] + +this.points[5] + +this.points[9]) / 3).toFixed(1);\n      const res = await axios.patch(`${config.domain}/company/assess-result`, {\n        studentId,\n        points: this.points,\n        message: this.message\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.commit(\"SET_TOAST\", {\n        message: res.data.message,\n        isSuccess: res.data.status\n      });\n    }\n\n  },\n\n  async mounted() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const studentId = this.$route.params.studentId;\n      const res = await axios.get(`${config.domain}/company/get-company-assess`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        },\n        params: {\n          studentId\n        }\n      });\n      this.points = res.data.result.points;\n      this.message = res.data.result.message;\n      console.log(res.data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","config","mapMutations","name","data","points","message","methods","handleAssess","token","localStorage","getItem","studentId","$route","params","toFixed","res","patch","domain","headers","Authorization","$store","commit","isSuccess","status","mounted","get","result","console","log","error"],"sourceRoot":"","sources":["D:\\KTPM\\Final_NienLuan\\internship-management\\frontend\\src\\components\\Company\\StudentTraining\\AssessResult.vue"],"sourcesContent":["<template>\r\n    <div class=\"assess-result\">\r\n        <!-- Button trigger modal -->\r\n\r\n        <!-- Modal -->\r\n        <div\r\n            class=\"modal fade\"\r\n            id=\"AssessResultModal\"\r\n            tabindex=\"-1\"\r\n            aria-labelledby=\"ModalLabel\"\r\n            aria-hidden=\"true\"\r\n        >\r\n            <div\r\n                class=\"modal-dialog modal-dialog-centered\"\r\n                style=\"min-width: 800px !important\"\r\n            >\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title fw-bold\" id=\"ModalLabel\">\r\n                            Đánh giá kết quả thực tập\r\n                        </h5>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn-close\"\r\n                            data-bs-dismiss=\"modal\"\r\n                            aria-label=\"Close\"\r\n                        ></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"table-assess d-flex\">\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\" class=\"col-1\">STT</th>\r\n                                        <th scope=\"col\" class=\"col-10\">\r\n                                            Nội dung đánh giá\r\n                                        </th>\r\n                                        <th scope=\"col\" class=\"col-1\">Điểm</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I</th>\r\n                                        <td style=\"font-weight: bold\">\r\n                                            Tinh thần kỷ luật\r\n                                        </td>\r\n                                        <td>{{ points[0] }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I.1</th>\r\n                                        <td>\r\n                                            Thực hiện nội quy của cơ quan (nếu\r\n                                            thực tập online thì không chấm điểm)\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[1]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I.2</th>\r\n                                        <td>\r\n                                            Chấp hành giờ giấc làm việc (nếu\r\n                                            thực tập online thì không chấm điểm)\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[2]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th scope=\"row\">I.3</th>\r\n                                        <td>\r\n                                            Thái độ giao tiếp với cán bộ trong\r\n                                            đơn vị (nếu thực tập online thì\r\n                                            không chấm điểm)\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[3]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">I.4</th>\r\n                                        <td>Tích cực trong công việc</td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[4]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II</th>\r\n                                        <td style=\"font-weight: bold\">\r\n                                            Khả năng chuyên môn, nghiệp vụ\r\n                                        </td>\r\n                                        <td>{{ points[5] }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II.1</th>\r\n                                        <td>Đáp ứng yêu cầu công việc</td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[6]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II.2</th>\r\n                                        <td>\r\n                                            Tinh thần học hỏi, nâng cao trình độ\r\n                                            chuyên môn, nghiệp vụ\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[7]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">II.3</th>\r\n                                        <td>\r\n                                            Có đề xuất, sáng kiến, năng động\r\n                                            trong công việc\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[8]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III</th>\r\n                                        <td style=\"font-weight: bold\">\r\n                                            Kết quả công tác\r\n                                        </td>\r\n                                        <td>{{ points[9] }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III.1</th>\r\n                                        <td>\r\n                                            Báo cáo tiến độ công việc cho cán bộ\r\n                                            hướng dẫn mỗi tuần 1 lần\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[10]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III.2</th>\r\n                                        <td>Hoàn thành công việc được giao</td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[11]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th scope=\"row\">III.3</th>\r\n                                        <td>\r\n                                            Kết quả công việc có đóng góp cho cơ\r\n                                            quan nơi thực tập\r\n                                        </td>\r\n                                        <td>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                class=\"w-100 form-control\"\r\n                                                v-model=\"points[12]\"\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                    <tr class=\"text-danger\">\r\n                                        <td style=\"font-weight: bold\">Tổng</td>\r\n                                        <td></td>\r\n\r\n                                        <td>{{ points[13] }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"3\">\r\n                                            <textarea\r\n                                                name=\"\"\r\n                                                id=\"\"\r\n                                                cols=\"10\"\r\n                                                rows=\"3\"\r\n                                                class=\"form-control\"\r\n                                                placeholder=\"Nhận xét thêm...\"\r\n                                                v-model=\"message\"\r\n                                            ></textarea>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-secondary\"\r\n                            data-bs-dismiss=\"modal\"\r\n                        >\r\n                            Đóng\r\n                        </button>\r\n\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-primary\"\r\n                            data-bs-dismiss=\"modal\"\r\n                            @click=\"handleAddTask()\"\r\n                            :disabled=\"\r\n                                !points[1] ||\r\n                                !points[2] ||\r\n                                !points[3] ||\r\n                                !points[4] ||\r\n                                !points[6] ||\r\n                                !points[7] ||\r\n                                !points[8] ||\r\n                                !points[10] ||\r\n                                !points[11] ||\r\n                                !points[12]\r\n                            \"\r\n                        >\r\n                            Xác nhận\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport config from \"@/config/index.js\";\r\nimport { mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n    name: \"AssessResult\",\r\n    data() {\r\n        return { points: [], message: \"\" };\r\n    },\r\n    methods: {\r\n        async handleAssess() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const studentId = this.$route.params.studentId;\r\n            this.points[0] = (\r\n                (this.points[1] +\r\n                    this.points[2] +\r\n                    this.points[3] +\r\n                    this.points[4]) /\r\n                4\r\n            ).toFixed(1);\r\n\r\n            this.points[5] = (\r\n                (this.points[6] + this.points[7] + this.points[8]) /\r\n                3\r\n            ).toFixed(1);\r\n\r\n            this.points[9] = (\r\n                (this.points[10] + this.points[11] + this.points[12]) /\r\n                3\r\n            ).toFixed(1);\r\n\r\n            this.points[13] = (\r\n                (+this.points[0] + +this.points[5] + +this.points[9]) /\r\n                3\r\n            ).toFixed(1);\r\n\r\n            const res = await axios.patch(\r\n                `${config.domain}/company/assess-result`,\r\n                {\r\n                    studentId,\r\n                    points: this.points,\r\n                    message: this.message,\r\n                },\r\n                { headers: { Authorization: \"Bearer \" + token } }\r\n            );\r\n\r\n            this.$store.commit(\"SET_TOAST\", {\r\n                message: res.data.message,\r\n                isSuccess: res.data.status,\r\n            });\r\n        },\r\n    },\r\n    async mounted() {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const studentId = this.$route.params.studentId;\r\n            const res = await axios.get(\r\n                `${config.domain}/company/get-company-assess`,\r\n                {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                    params: {\r\n                        studentId,\r\n                    },\r\n                }\r\n            );\r\n            this.points = res.data.result.points;\r\n            this.message = res.data.result.message;\r\n            console.log(res.data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}