{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AssignForm\",\n\n  data() {\n    return {\n      className: \"\",\n      semester: \"\",\n      schoolYear: \"\",\n      classesName: [],\n      schoolYears: []\n    };\n  },\n\n  async created() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(`${config.domain}/ministry/get-infor-assign`, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.classesName = res.data.result.classesName;\n      this.schoolYears = res.data.result.schoolYears;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  computed: mapGetters({\n    teacher: \"getTeacherDetail\"\n  }),\n  methods: {\n    async handleAssign() {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(`${config.domain}/ministry/assign-teacher`, {\n        teacherId: this.teacher._id,\n        className: this.className,\n        semester: this.semester,\n        schoolYear: this.schoolYear\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n      this.$store.dispatch(\"setToast\", {\n        isSuccess: res.data.status,\n        message: res.data.message\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoIA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,eAAe;EACXC,IAAI,EAAE,YADK;;EAEXC,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,EADR;MAEHC,QAAQ,EAAE,EAFP;MAGHC,UAAU,EAAE,EAHT;MAIHC,WAAW,EAAE,EAJV;MAKHC,WAAW,EAAE;IALV,CAAP;EAOH,CAVU;;EAWX,MAAMC,OAAN,GAAgB;IACZ,IAAI;MACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMb,KAAK,CAACc,GAAN,CACb,GAAEf,MAAM,CAACgB,MAAO,4BADH,EAEd;QACIC,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CAFc,CAAlB;MASA,KAAKH,WAAL,GAAmBM,GAAG,CAACV,IAAJ,CAASe,MAAT,CAAgBX,WAAnC;MACA,KAAKC,WAAL,GAAmBK,GAAG,CAACV,IAAJ,CAASe,MAAT,CAAgBV,WAAnC;IACJ,CAbA,CAaE,OAAOW,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACJ;EACH,CA5BU;;EA6BXG,QAAQ,EAAErB,UAAU,CAAC;IAAEsB,OAAO,EAAE;EAAX,CAAD,CA7BT;EA8BXC,OAAO,EAAE;IACL,MAAMC,YAAN,GAAqB;MACjB,MAAMf,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;MACA,MAAMC,GAAE,GAAI,MAAMb,KAAK,CAAC0B,IAAN,CACb,GAAE3B,MAAM,CAACgB,MAAO,0BADH,EAEd;QACIY,SAAS,EAAE,KAAKJ,OAAL,CAAaK,GAD5B;QAEIxB,SAAS,EAAE,KAAKA,SAFpB;QAGIC,QAAQ,EAAE,KAAKA,QAHnB;QAIIC,UAAU,EAAE,KAAKA;MAJrB,CAFc,EAQd;QACIU,OAAO,EAAE;UACLC,aAAa,EAAE,YAAYP;QADtB;MADb,CARc,CAAlB;MAeA,KAAKmB,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiC;QAC7BC,SAAS,EAAElB,GAAG,CAACV,IAAJ,CAAS6B,MADS;QAE7BC,OAAO,EAAEpB,GAAG,CAACV,IAAJ,CAAS8B;MAFW,CAAjC;IAIH;;EAtBI;AA9BE,CAAf","names":["config","axios","mapGetters","name","data","className","semester","schoolYear","classesName","schoolYears","created","token","localStorage","getItem","res","get","domain","headers","Authorization","result","error","console","log","computed","teacher","methods","handleAssign","post","teacherId","_id","$store","dispatch","isSuccess","status","message"],"sourceRoot":"","sources":["/Users/thiencao/Desktop/demo/internship-management/frontend/src/components/Ministry/TeacherManagement/AssignForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"assgn-form\">\r\n        <!-- Modal -->\r\n        <div\r\n            class=\"modal fade\"\r\n            id=\"assignModal\"\r\n            tabindex=\"-1\"\r\n            aria-labelledby=\"exampleModalLabel\"\r\n            aria-hidden=\"true\"\r\n        >\r\n            <div class=\"modal-dialog modal-dialog-centered\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h1\r\n                            class=\"modal-title fs-4 fw-bold\"\r\n                            id=\"exampleModalLabel\"\r\n                        >\r\n                            Phân công giảng viên\r\n                        </h1>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn-close\"\r\n                            data-bs-dismiss=\"modal\"\r\n                            aria-label=\"Close\"\r\n                        ></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"name\" class=\"form-label fw-bold\"\r\n                                >Tên giảng viên</label\r\n                            >\r\n                            <input\r\n                                type=\"email\"\r\n                                class=\"form-control\"\r\n                                id=\"name\"\r\n                                disabled\r\n                                :placeholder=\"teacher.name\"\r\n                            />\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"username\" class=\"form-label fw-bold\"\r\n                                >Mã số giảng viên</label\r\n                            >\r\n                            <input\r\n                                type=\"email\"\r\n                                class=\"form-control\"\r\n                                id=\"username\"\r\n                                disabled\r\n                                :placeholder=\"teacher.username\"\r\n                            />\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"name\" class=\"form-label fw-bold\"\r\n                                >Lớp phân công</label\r\n                            >\r\n                            <select\r\n                                class=\"form-select\"\r\n                                aria-label=\"select example\"\r\n                                v-model=\"className\"\r\n                            >\r\n                                <option disabled value=\"\">Chọn lớp</option>\r\n                                <option\r\n                                    v-for=\"className in classesName\"\r\n                                    :key=\"className\"\r\n                                    :value=\"className\"\r\n                                >\r\n                                    {{ className }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"name\" class=\"form-label fw-bold\"\r\n                                >Học kỳ</label\r\n                            >\r\n                            <select\r\n                                class=\"form-select\"\r\n                                aria-label=\"select example\"\r\n                                v-model=\"semester\"\r\n                            >\r\n                                <option disabled value=\"\">Học kỳ</option>\r\n\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                                <option value=\"3\">Hè</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"name\" class=\"form-label fw-bold\"\r\n                                >Niên khóa</label\r\n                            >\r\n                            <select\r\n                                class=\"form-select\"\r\n                                aria-label=\"select example\"\r\n                                v-model=\"schoolYear\"\r\n                            >\r\n                                <option disabled value=\"\">Niên khóa</option>\r\n\r\n                                <option\r\n                                    v-for=\"year in schoolYears\"\r\n                                    :key=\"year\"\r\n                                    :value=\"year\"\r\n                                >\r\n                                    {{ year }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-secondary\"\r\n                            data-bs-dismiss=\"modal\"\r\n                        >\r\n                            Đóng\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-primary\"\r\n                            data-bs-dismiss=\"modal\"\r\n                            @click=\"handleAssign\"\r\n                            :disabled=\"!className || !semester || !schoolYear\"\r\n                        >\r\n                            Phân công\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport config from \"@/config/index.js\";\r\nimport axios from \"axios\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n    name: \"AssignForm\",\r\n    data() {\r\n        return {\r\n            className: \"\",\r\n            semester: \"\",\r\n            schoolYear: \"\",\r\n            classesName: [],\r\n            schoolYears: [],\r\n        };\r\n    },\r\n    async created() {\r\n        try {\r\n            const token = localStorage.getItem(\"token\");\r\n            const res = await axios.get(\r\n                `${config.domain}/ministry/get-infor-assign`,\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            this.classesName = res.data.result.classesName;\r\n            this.schoolYears = res.data.result.schoolYears;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n    computed: mapGetters({ teacher: \"getTeacherDetail\" }),\r\n    methods: {\r\n        async handleAssign() {\r\n            const token = localStorage.getItem(\"token\");\r\n            const res = await axios.post(\r\n                `${config.domain}/ministry/assign-teacher`,\r\n                {\r\n                    teacherId: this.teacher._id,\r\n                    className: this.className,\r\n                    semester: this.semester,\r\n                    schoolYear: this.schoolYear,\r\n                },\r\n                {\r\n                    headers: {\r\n                        Authorization: \"Bearer \" + token,\r\n                    },\r\n                }\r\n            );\r\n\r\n            this.$store.dispatch(\"setToast\", {\r\n                isSuccess: res.data.status,\r\n                message: res.data.message,\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}