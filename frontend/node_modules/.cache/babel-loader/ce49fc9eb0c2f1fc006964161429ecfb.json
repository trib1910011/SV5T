{"ast":null,"code":"import config from \"@/config/index.js\";\nimport axios from \"axios\";\nimport { mapGetters } from \"vuex\";\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\nexport default {\n  name: \"UpdateInfor\",\n  components: {\n    AvatarComponent\n  },\n\n  data() {\n    return {\n      changePwd: false,\n      newPassword: \"\",\n      password: \"\"\n    };\n  },\n\n  computed: { ...mapGetters({\n      account: \"getAccount\"\n    })\n  },\n\n  async created() {\n    const token = localStorage.getItem(\"token\");\n    await this.$store.dispatch(\"setAccount\");\n    const res = await axios.get(`${config.domain}/company/get-company-infor`, {\n      params: {\n        companyId: this.account.id\n      },\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    this.$store.commit(\"SET_ACCOUNT\", res.data.result);\n\n    if (this.$route.params.status == \"not-update\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Mật khẩu hiện tại không chính xác!\",\n        isSuccess: false\n      });\n    } else if (this.$route.params.status == \"success\") {\n      this.$store.commit(\"SET_TOAST\", {\n        message: \"Cập nhật thành công!\",\n        isSuccess: true\n      });\n    }\n  },\n\n  mounted() {\n    const nav = document.querySelector(\"nav\");\n    nav.scrollIntoView();\n  },\n\n  methods: {\n    async updateProfile(e) {\n      try {\n        e.target.action = `${config.domain}/update-profile`;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyJA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,eAAP,MAA4B,sDAA5B;AAEA,eAAe;EACXC,IAAI,EAAE,aADK;EAEXC,UAAU,EAAE;IAAEF;EAAF,CAFD;;EAGXG,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,KADR;MAEHC,WAAW,EAAE,EAFV;MAGHC,QAAQ,EAAE;IAHP,CAAP;EAKH,CATU;;EAUXC,QAAQ,EAAE,EACN,GAAGR,UAAU,CAAC;MAAES,OAAO,EAAE;IAAX,CAAD;EADP,CAVC;;EAaX,MAAMC,OAAN,GAAgB;IACZ,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACA,MAAM,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,YAArB,CAAN;IAEA,MAAMC,GAAE,GAAI,MAAMjB,KAAK,CAACkB,GAAN,CACb,GAAEnB,MAAM,CAACoB,MAAO,4BADH,EAEd;MACIC,MAAM,EAAE;QAAEC,SAAS,EAAE,KAAKX,OAAL,CAAaY;MAA1B,CADZ;MAEIC,OAAO,EAAE;QAAEC,aAAa,EAAE,YAAYZ;MAA7B;IAFb,CAFc,CAAlB;IAQA,KAAKG,MAAL,CAAYU,MAAZ,CAAmB,aAAnB,EAAkCR,GAAG,CAACZ,IAAJ,CAASqB,MAA3C;;IAEA,IAAI,KAAKC,MAAL,CAAYP,MAAZ,CAAmBQ,MAAnB,IAA6B,YAAjC,EAA+C;MAC3C,KAAKb,MAAL,CAAYU,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BI,OAAO,EAAE,oCADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ,CALA,MAKO,IAAI,KAAKH,MAAL,CAAYP,MAAZ,CAAmBQ,MAAnB,IAA6B,SAAjC,EAA4C;MAC/C,KAAKb,MAAL,CAAYU,MAAZ,CAAmB,WAAnB,EAAgC;QAC5BI,OAAO,EAAE,sBADmB;QAE5BC,SAAS,EAAE;MAFiB,CAAhC;IAIJ;EACH,CAtCU;;EAuCXC,OAAO,GAAG;IACN,MAAMC,GAAE,GAAIC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;IACAF,GAAG,CAACG,cAAJ;EACH,CA1CU;;EA2CXC,OAAO,EAAE;IACL,MAAMC,aAAN,CAAoBC,CAApB,EAAuB;MACnB,IAAI;QACAA,CAAC,CAACC,MAAF,CAASC,MAAT,GAAmB,GAAEzC,MAAM,CAACoB,MAAO,iBAAnC;MACJ,CAFA,CAEE,OAAOsB,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACJ;IACH;;EAPI;AA3CE,CAAf","names":["config","axios","mapGetters","AvatarComponent","name","components","data","changePwd","newPassword","password","computed","account","created","token","localStorage","getItem","$store","dispatch","res","get","domain","params","companyId","id","headers","Authorization","commit","result","$route","status","message","isSuccess","mounted","nav","document","querySelector","scrollIntoView","methods","updateProfile","e","target","action","error","console","log"],"sourceRoot":"","sources":["D:\\KTPM\\Final_NienLuan\\internship-management\\frontend\\src\\components\\Company\\UpdateInfor.vue"],"sourcesContent":["<template>\r\n    <div class=\"student-update my-5 animate__animated animate__fadeIn\">\r\n        <h2 class=\"update__title text-center fw-bold\" style=\"color: #555555\">\r\n            Cập nhật thông tin cá nhân\r\n        </h2>\r\n\r\n        <div class=\"form-update row col-6 rounded-3 m-auto p-3 mt-3\">\r\n            <div class=\"col-12 text-center mb-3\">\r\n                <AvatarComponent class=\"mb-3\" :urlAvatar=\"account.urlAvatar\" />\r\n                <h5 class=\"fw-bold\">\r\n                    {{ account.name }} - {{ account.username }}\r\n                </h5>\r\n            </div>\r\n            <form\r\n                class=\"form-update-infor col-12 row\"\r\n                enctype=\"multipart/form-data\"\r\n                method=\"post\"\r\n                @submit=\"updateProfile\"\r\n            >\r\n                <input\r\n                    class=\"form-control d-none\"\r\n                    name=\"accountId\"\r\n                    v-model=\"account.id\"\r\n                />\r\n                <input\r\n                    class=\"form-control d-none\"\r\n                    name=\"urlAvatar\"\r\n                    v-model=\"account.urlAvatar\"\r\n                />\r\n                <div class=\"col-6\">\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"email\" class=\"form-label py-1\"\r\n                            ><strong>Email</strong></label\r\n                        >\r\n                        <input\r\n                            type=\"email\"\r\n                            class=\"form-control\"\r\n                            id=\"email\"\r\n                            aria-describedby=\"emailHelp\"\r\n                            name=\"email\"\r\n                            v-model=\"account.email\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"phone\" class=\"form-label py-1\"\r\n                            ><strong>Số điện thoại</strong></label\r\n                        >\r\n                        <input\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            id=\"phone\"\r\n                            aria-describedby=\"name\"\r\n                            name=\"phoneNumber\"\r\n                            v-model=\"account.phoneNumber\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"address\" class=\"form-label py-1\"\r\n                            ><strong>Địa chỉ</strong></label\r\n                        >\r\n                        <textarea\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            id=\"address\"\r\n                            aria-describedby=\"name\"\r\n                            name=\"address\"\r\n                            v-model=\"account.address\"\r\n                            rows=\"500\"\r\n                            cols=\"70\"\r\n                            required\r\n                        ></textarea>\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"avatar\" class=\"form-label py-1 col-12\"\r\n                            ><strong>Cập nhật ảnh đại diện</strong></label\r\n                        >\r\n                        <input\r\n                            type=\"file\"\r\n                            name=\"avatar\"\r\n                            accept=\"image/png, image/jpeg\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                    <div class=\"mb-4\">\r\n                        <label for=\"message\" class=\"form-label py-1\"\r\n                            ><strong>Thông tin giới thiệu</strong></label\r\n                        >\r\n                        <textarea\r\n                            type=\"text\"\r\n                            class=\"form-control\"\r\n                            id=\"message\"\r\n                            aria-describedby=\"name\"\r\n                            name=\"message\"\r\n                            v-model=\"account.message\"\r\n                            required\r\n                        ></textarea>\r\n                    </div>\r\n\r\n                    <div class=\"mb-4 d-flex align-items-center\">\r\n                        <input\r\n                            v-model=\"changePwd\"\r\n                            type=\"checkbox\"\r\n                            style=\"width: 18px; height: 18px\"\r\n                        />\r\n                        <span class=\"ms-2\">Thay đổi mật khẩu</span>\r\n                    </div>\r\n                    <div class=\"mb-4\" v-if=\"changePwd\">\r\n                        <label for=\"phone\" class=\"form-label py-1\"\r\n                            ><strong>Mật khẩu hiện tại</strong></label\r\n                        >\r\n                        <input\r\n                            type=\"password\"\r\n                            class=\"form-control\"\r\n                            id=\"password\"\r\n                            aria-describedby=\"name\"\r\n                            name=\"password\"\r\n                            v-model=\"password\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div class=\"mb-4\" v-if=\"changePwd\">\r\n                        <label for=\"phone\" class=\"form-label py-1\"\r\n                            ><strong>Mật khẩu mới</strong></label\r\n                        >\r\n                        <input\r\n                            type=\"password\"\r\n                            class=\"form-control\"\r\n                            id=\"newPassword\"\r\n                            aria-describedby=\"name\"\r\n                            name=\"newPassword\"\r\n                            v-model=\"newPassword\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"form__footer d-flex justify-content-center mt-4\">\r\n                    <button class=\"btn btn-danger mx-3\">\r\n                        <i class=\"bi bi-arrow-clockwise\"></i>&nbsp;Đặt lại\r\n                    </button>\r\n                    <button type=\"submit\" class=\"btn btn-primary btn-save mx-3\">\r\n                        <i class=\"bi bi-calendar4\"></i>&nbsp; Lưu\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport config from \"@/config/index.js\";\r\nimport axios from \"axios\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nimport AvatarComponent from \"../../components/GlobalComponent/AvatarComponent.vue\";\r\n\r\nexport default {\r\n    name: \"UpdateInfor\",\r\n    components: { AvatarComponent },\r\n    data() {\r\n        return {\r\n            changePwd: false,\r\n            newPassword: \"\",\r\n            password: \"\",\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters({ account: \"getAccount\" }),\r\n    },\r\n    async created() {\r\n        const token = localStorage.getItem(\"token\");\r\n        await this.$store.dispatch(\"setAccount\");\r\n\r\n        const res = await axios.get(\r\n            `${config.domain}/company/get-company-infor`,\r\n            {\r\n                params: { companyId: this.account.id },\r\n                headers: { Authorization: \"Bearer \" + token },\r\n            }\r\n        );\r\n\r\n        this.$store.commit(\"SET_ACCOUNT\", res.data.result);\r\n\r\n        if (this.$route.params.status == \"not-update\") {\r\n            this.$store.commit(\"SET_TOAST\", {\r\n                message: \"Mật khẩu hiện tại không chính xác!\",\r\n                isSuccess: false,\r\n            });\r\n        } else if (this.$route.params.status == \"success\") {\r\n            this.$store.commit(\"SET_TOAST\", {\r\n                message: \"Cập nhật thành công!\",\r\n                isSuccess: true,\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        const nav = document.querySelector(\"nav\");\r\n        nav.scrollIntoView();\r\n    },\r\n    methods: {\r\n        async updateProfile(e) {\r\n            try {\r\n                e.target.action = `${config.domain}/update-profile`;\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn-save {\r\n    min-width: 70px;\r\n}\r\n\r\n.form-update {\r\n    min-width: 900px;\r\n}\r\n\r\n.form-update {\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}